{"ast":null,"code":"import{Suspense,lazy,useState,useEffect}from\"react\";import\"./MainView.css\";import{Fragment as _Fragment,jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const delay=ms=>new Promise(resolve=>setTimeout(resolve,ms));const MainView=_ref=>{let{storeConfig}=_ref;let view='';let storeConfigVal={};const[isClient,setIsClient]=useState(false);useEffect(()=>{setIsClient(true);},[]);//if(typeof window !== 'undefined' && window.location.href) {\nif(isClient){window.storeConfig=storeConfig;}const storePathNameConfig={'swirlyojpnagar':{storeId:'9'},'kidsaurajpnagar':{storeId:'13'}};if(isClient){var _window,_window2,_window5,_window6;storeConfigVal=storePathNameConfig[(_window=window)===null||_window===void 0?void 0:_window.location.pathname.split('/')[2]];if(window&&((_window2=window)===null||_window2===void 0?void 0:_window2.location.href.indexOf('?'))>=0){var _window3,_window4;view=(_window3=window)===null||_window3===void 0?void 0:_window3.location.href.substring(((_window4=window)===null||_window4===void 0?void 0:_window4.location.href.indexOf('?view='))+6,window.location.href.length);}else if(window&&((_window5=window)===null||_window5===void 0?void 0:_window5.location.href.indexOf('/app/shop/id='))>=0){view='shop-detail';}else if(window&&((_window6=window)===null||_window6===void 0?void 0:_window6.location.href.indexOf('/app/shop'))>=0){view='shop-stores';}else{view='default';}console.log('--storeConfigVal02--',storeConfig);let appName=window.location.href.split('/app/')[1].replace('/','');switch(appName){case'kidsaurajpnagar':importScripts(\"https://cdn.pushalert.co/sw-83753.js\");break;default:break;}}//}\nconst[message,setMessage]=useState(\"\");const ViewProductsComponent=/*#__PURE__*/lazy(()=>//delay(100).then(() => import(\"./viewproducts/ViewProducts.js\"))\nimport(\"./viewproducts/ViewProductsApp.js\"));const ViewShopsComponent=/*#__PURE__*/lazy(()=>//delay(100).then(() => import(\"./viewproducts/ViewProducts.js\"))\nimport(\"./viewshops/ViewShopsApp.js\"));const ViewShopDetailComponent=/*#__PURE__*/lazy(()=>//delay(100).then(() => import(\"./viewproducts/ViewProducts.js\"))\nimport(\"./viewshops/ViewShopDetail.js\"));const showMessage=msg=>{setMessage(msg);};const clearMessage=()=>{setMessage(\"\");};console.log('--view--',view);return/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[view=='default'&&/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(_Fragment,{}),children:/*#__PURE__*/_jsx(ViewProductsComponent,{storeConfig:storeConfigVal})}),view=='shop-detail'&&/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(_Fragment,{}),children:/*#__PURE__*/_jsx(ViewShopDetailComponent,{storeConfig:storeConfigVal})}),view=='shop-stores'&&/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(_Fragment,{}),children:/*#__PURE__*/_jsx(ViewShopsComponent,{storeConfig:storeConfigVal})})]});};export default MainView;","map":{"version":3,"names":["Suspense","lazy","useState","useEffect","Fragment","_Fragment","jsx","_jsx","jsxs","_jsxs","delay","ms","Promise","resolve","setTimeout","MainView","_ref","storeConfig","view","storeConfigVal","isClient","setIsClient","window","storePathNameConfig","storeId","_window","_window2","_window5","_window6","location","pathname","split","href","indexOf","_window3","_window4","substring","length","console","log","appName","replace","importScripts","message","setMessage","ViewProductsComponent","ViewShopsComponent","ViewShopDetailComponent","showMessage","msg","clearMessage","className","children","fallback"],"sources":["/Users/srishti/Documents/code/appamz/ssr-client/src/app/mainview/MainView.js"],"sourcesContent":["import {Suspense, lazy, useState, useEffect} from \"react\";\nimport \"./MainView.css\";\nconst delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));\n\nconst MainView = ({storeConfig}) => {\n    let view = '';\n    let storeConfigVal = {};\n    const [isClient, setIsClient] = useState(false);\n    useEffect(() => {\n        setIsClient(true);\n      }, []);\n    //if(typeof window !== 'undefined' && window.location.href) {\n        if (isClient) {\n            window.storeConfig = storeConfig;\n        }\n        \n        const storePathNameConfig = {\n            'swirlyojpnagar': {storeId: '9'},\n            'kidsaurajpnagar': {storeId: '13'}\n        }\n        if (isClient) {\n            storeConfigVal = storePathNameConfig[window?.location.pathname.split('/')[2]];\n            if (window && window?.location.href.indexOf('?') >= 0) {\n                view = window?.location.href.substring(window?.location.href.indexOf('?view=')+6, window.location.href.length);\n            } else if (window && window?.location.href.indexOf('/app/shop/id=') >= 0) {\n                view = 'shop-detail';\n            } else if (window && window?.location.href.indexOf('/app/shop') >= 0) {\n                view = 'shop-stores';\n            } else {\n                view = 'default';\n            }\n            console.log('--storeConfigVal02--', storeConfig);\n\n            let appName = window.location.href.split('/app/')[1].replace('/','');\n            switch(appName) {\n                case 'kidsaurajpnagar': importScripts(\"https://cdn.pushalert.co/sw-83753.js\"); break;\n                default: break;\n            }\n        }\n        \n    //}\n    const [message, setMessage] = useState(\"\");\n\n    const ViewProductsComponent = lazy(() =>\n        //delay(100).then(() => import(\"./viewproducts/ViewProducts.js\"))\n        import(\"./viewproducts/ViewProductsApp.js\")\n    );\n\n    const ViewShopsComponent = lazy(() =>\n        //delay(100).then(() => import(\"./viewproducts/ViewProducts.js\"))\n        import(\"./viewshops/ViewShopsApp.js\")\n    );\n\n    const ViewShopDetailComponent = lazy(() =>\n        //delay(100).then(() => import(\"./viewproducts/ViewProducts.js\"))\n        import(\"./viewshops/ViewShopDetail.js\")\n    );\n\n    const showMessage = (msg) => {\n        setMessage(msg);\n    };\n\n    const clearMessage = () => {\n        setMessage(\"\");\n    };\n\n    console.log('--view--', view);\n\n    return (\n        <div className=\"main\">\n            {view == 'default' &&  <Suspense fallback={<></>}>\n                    <ViewProductsComponent storeConfig={storeConfigVal} />\n                </Suspense>}\n            {view == 'shop-detail' &&  <Suspense fallback={<></>}>\n                <ViewShopDetailComponent storeConfig={storeConfigVal} />\n            </Suspense>}\n            {view == 'shop-stores' &&  <Suspense fallback={<></>}>\n                <ViewShopsComponent storeConfig={storeConfigVal} />\n            </Suspense>}\n        </div>\n    );\n}\n\nexport default MainView;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}