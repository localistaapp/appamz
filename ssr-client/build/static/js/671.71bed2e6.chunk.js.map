{"version":3,"file":"static/js/671.71bed2e6.chunk.js","mappings":"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","sources":["store/mainview/onlineorders/OnlineOrders.js"],"sourcesContent":["import { useState, createRef, useEffect } from \"react\";\nimport axios from 'axios';\nimport \"./OnlineOrders.css\";\n\nconst OrdersList = ({orders}) => {\n    const [showOrderDetail, setShowOrderDetail] = useState(false);\n    const [orderCreatedAt, setOrderCreatedAt] = useState('');\n    const [orderName, setOrderName] = useState('');\n    const [orderMobile, setOrderMobile] = useState('');\n    const [orderAddress, setOrderAddress] = useState('');\n    const [orderPincode, setOrderPincode] = useState('');\n    const [orderPrice, setOrderPrice] = useState('');\n    const [orderStatus, setOrderStatus] = useState('');\n    const [orderSchedule, setOrderSchedule] = useState('');\n    const [orderSlot, setOrderSlot] = useState('');\n    const [trackingLink, setTrackingLink] = useState('');\n\n    const onCloseClick = () => {\n      setShowOrderDetail(false);\n    }\n\n    const onOrderClicked = (o,totalPrice,orderString) => {\n      setOrderCreatedAt(o.created_at);\n      setOrderName(o.name);\n      setOrderMobile(o.mobile);\n      setOrderAddress(o.address);\n      setOrderPincode(o.delivery_pincode);\n      setOrderPrice(totalPrice);\n      setOrderStatus(o.status);\n      setOrderSchedule(o.delivery_schedule);\n      setOrderSlot(o.delivery_timeslot);\n      setTrackingLink(o.tracking_link);\n      setShowOrderDetail(true);\n    }\n\n    const onTrackingUpdate = () => {\n\n    }\n \n    return (\n      <div>\n      <div className=\"product-list\">\n        {orders.length > 0 && orders.map((o, index) => {\n          let orderString = '';\n          let totalPrice = 0;\n          let itemImgsrc = '';\n\n          Object.values(JSON.parse(o.order)).forEach((obj, index)=>{\n            console.log('--obj--', obj);\n            orderString = orderString + `${obj.qty} ${obj.name} , `;\n            totalPrice = totalPrice + obj.price;\n            if (index == 0) {\n              itemImgsrc = obj.itemSrc;\n            }\n          });\n          \n          orderString = orderString.substring(0,orderString.length-2);\n          totalPrice = totalPrice + 750;\n          return (\n            <div key={index} className=\"card\" onClick={()=>{onOrderClicked(o,totalPrice,orderString)}} >\n              <img src={itemImgsrc} />\n              <div className=\"card-content\">\n                <div className=\"description order-desc\">{orderString}</div>\n                <div className=\"price\">\n                  <div className=\"price-current\">₹{totalPrice}</div>\n                </div>\n                <br/>\n                <div className=\"description\" style={{display: 'inline'}}>{o.name} - {o.mobile}</div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n      <div className=\"address-container\" style={{display: showOrderDetail == true ? 'block' : 'none'}}>\n        <div className=\"close-icn\" onClick={onCloseClick}><img src='../../assets/images/ic_close.png'></img></div>\n        <div className=\"cnt\">\n            <div>Created At: {orderCreatedAt}</div>\n            <div>{orderName}</div>\n            <div>{orderMobile}</div>\n            <div>{orderAddress}</div>\n            <div>{orderPincode}</div>\n            <div className='price-lbl'>₹{orderPrice}</div>\n            {orderStatus != 'PAID'  && <div className='input-delivery'><input id=\"trackingLinkElemId\" type='text' value={trackingLink} placeholder='Enter tracking link' /></div>}\n            {orderStatus != 'PAID'  && <a className='price-btn' onClick={()=>{onTrackingUpdate(document.getElementById('trackingLinkElemId').value);}} style={{right: '123px', width: '189px', margin: '0 auto', left: '0', right: '0'}}>Update Delivery</a>}\n            <div>{orderSchedule == 'now' ? 'DELIVER NOW' : ''}</div>\n            {orderSlot != 'unknown' && <div>{orderSlot}</div>}\n        </div>\n        \n    </div>\n      </div>\n    );\n  };\n\nconst LoadingShimmer = () => <div className=\"loading-screen\"><div className=\"shimmer\"><div class=\"wrapper\"><div class=\"animate image-card\"></div><div class=\"animate stroke title\"></div><div class=\"animate stroke link\"></div><div class=\"animate stroke description\"></div></div></div><div class=\"shimmer\"><div class=\"wrapper\"><div class=\"animate image-card\"></div><div class=\"animate stroke title\"></div><div class=\"animate stroke link\"></div><div class=\"animate stroke description\"></div></div></div><div class=\"shimmer\"><div class=\"wrapper\"><div class=\"animate image-card\"></div><div class=\"animate stroke title\"></div><div class=\"animate stroke link\"></div><div class=\"animate stroke description\"></div></div></div><div class=\"shimmer\"><div class=\"wrapper\"><div class=\"animate image-card\"></div><div class=\"animate stroke title\"></div><div class=\"animate stroke link\"></div><div class=\"animate stroke description\"></div></div></div><div class=\"shimmer\"><div class=\"wrapper\"><div class=\"animate image-card\"></div><div class=\"animate stroke title\"></div><div class=\"animate stroke link\"></div><div class=\"animate stroke description\"></div></div></div></div>;\n  \n\nconst OnlineOrders = ({url}) => {\n\n    const [message, setMessage] = useState(\"\");\n    const [isLoading, setIsLoading] = useState(true);\n    const [orders, setOrders] = useState([]);\n\n    let storeId = 0;\n        try {\n            storeId = JSON.parse(window.sessionStorage.getItem('user-profile')).storeId;\n        } catch(e) {\n            console.log('error');\n        }\n\n    if (orders.length == 0) {\n      axios.get(`/web-orders/${storeId}`)\n      .then(function (response) {\n        if(response.data != 'auth error') {\n            console.log('--orders res--', JSON.stringify(response.data));\n            setIsLoading(false);\n            setOrders(response.data);\n        }\n      }.bind(this));\n    }\n\n    setTimeout(()=>setIsLoading(false),2000);\n\n    return (\n        <div className=\"main\">\n           <div class=\"container\">\n                <h1 style={{marginLeft: '16px'}}>Online Orders</h1>\n                {!isLoading && <OrdersList orders={orders} />}\n                {isLoading && <LoadingShimmer/>}\n            </div>\n        </div>\n    );\n}\n\nexport default OnlineOrders;\n"],"names":["OrdersList","_ref","orders","showOrderDetail","setShowOrderDetail","useState","orderCreatedAt","setOrderCreatedAt","orderName","setOrderName","orderMobile","setOrderMobile","orderAddress","setOrderAddress","orderPincode","setOrderPincode","orderPrice","setOrderPrice","orderStatus","setOrderStatus","orderSchedule","setOrderSchedule","orderSlot","setOrderSlot","trackingLink","setTrackingLink","_jsxs","children","_jsx","className","length","map","o","index","orderString","totalPrice","itemImgsrc","Object","values","JSON","parse","order","forEach","obj","console","log","concat","qty","name","price","itemSrc","substring","onClick","onOrderClicked","created_at","mobile","address","delivery_pincode","status","delivery_schedule","delivery_timeslot","tracking_link","src","style","display","onCloseClick","id","type","value","placeholder","document","getElementById","right","width","margin","left","LoadingShimmer","class","_ref2","url","message","setMessage","isLoading","setIsLoading","setOrders","storeId","window","sessionStorage","getItem","e","axios","then","response","data","stringify","bind","setTimeout","marginLeft"],"sourceRoot":""}