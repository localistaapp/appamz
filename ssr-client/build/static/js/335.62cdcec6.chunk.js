"use strict";(self.webpackChunkssr_client=self.webpackChunkssr_client||[]).push([[335],{9335:(o,e,t)=>{t.r(e),t.d(e,{default:()=>l});t(5088);var a=t(9643),s=t(7214),n=t.n(s),i=t(6507);const c=()=>{console.log("--clicked log out--"),alert("Log out")},l=o=>{const[e,t]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!1),[r,d]=(0,a.useState)(!1),[g,u]=(0,a.useState)(0),[h,m]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!1);let x="/";const w=()=>{document.querySelector("#idHeader").classList.add("card-margin-header"),document.querySelector("#idMenu").classList.add("card-margin-menu"),document.querySelector("#idLogoSm").classList.add("card-margin-logo-sm"),document.querySelector("#idLogo").classList.add("card-margin-logo")},b=()=>"subscribed"==window.PushAlertCo.getSubsInfo().status||null!=localStorage.getItem("notif-shown")&&"true"==localStorage.getItem("notif-shown"),S=()=>{null==localStorage.getItem("notif-shown")&&localStorage.setItem("notif-shown","true")},j=o=>{console.log("cb-",o.subscriber_id),console.log("cb-",o.alreadySubscribed),localStorage.getItem("subscribed","true")},v=()=>{null==localStorage.getItem("subscribed")||"true"!=localStorage.getItem("subscribed")?["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document?(console.log("isNotificationShown: ",b()),b()?(w(),S()):(w(),m(!0),localStorage.setItem("notif-shown","true"))):(w(),S()):(f(!0),m(!1)),window.pushalertbyiw&&window.pushalertbyiw.push(["onSuccess",j])};(0,a.useEffect)((()=>{t(!0),x=window.location.href,x&&x.indexOf("/app/shop/")>=0?l(!0):n().get("/user/cashback/".concat(localStorage.getItem("nanoId"),"/").concat(encodeURIComponent(window.location.pathname))).then((function(o){console.log("--user cashback data-----",o.data.cashBackValue),null!=o.data&&o.data.cashBackValue>0&&(d(!0),u(o.data.cashBackValue),localStorage.setItem("cashback-value",o.data.cashBackValue))})),v()}),[]),console.log("--props.locationHref--",o.locationHref),e&&(x=window.location.href,x.indexOf("?")>=0&&(x=window.location.href.substring(0,window.location.href.indexOf("?"))));const k=(o=>{let e="";console.log("--locationHref1--",o);let t="";return"undefined"!==typeof o&&-1!=o.indexOf("/app/")?(t=(o=o.split("from=")[0]).substring(o.indexOf("/app/")+5,o.length),t.indexOf("?")>=0&&(t=t.substring(0,t.indexOf("?"))),e="../../app/blr/".concat(t,"/images/logo.png")):e="../../app/blr/swirlyojpnagar/images/logo.png",console.log("--storeFolder--",t),e})(o.locationHref);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{id:"idHeader",className:"".concat(!s&&r?"top-margin":""," header"),children:[!s&&r&&(0,i.jsxs)("span",{className:"announcement",children:["\ud83c\udf89 You're eligible for instant cashback of \u20b9",g,". Shop now to redeem!"]}),!s&&(0,i.jsxs)("svg",{id:"idMenu",onClick:o.showSideBar,className:"".concat(!s&&r?"top-margin":""," menu-bar text-indigo-600"),width:"41",height:"41",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:["                ",(0,i.jsx)("rect",{width:"56",height:"56",rx:"16",fill:"#b9b9b9"}),"                ",(0,i.jsx)("path",{d:"M37 32H19M37 24H19",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),"              "]}),!s&&(0,i.jsx)("img",{id:"idLogoSm",onClick:()=>window.location.href=x,className:"".concat(!s&&r?"top-margin-sm":""," store-logo-sm"),src:k}),(0,i.jsx)("img",{id:"idLogo",class:"".concat(!s&&r?"top-margin":"",s?" store-logo-shop":" store-logo"),src:"../../assets/images/qlogo.png"}),o.loggedOut&&!s&&(0,i.jsx)("span",{id:"logout",className:"logout",onClick:c,children:"Logout"})]}),h&&(0,i.jsxs)("div",{class:"notif-card-box-th notif-card-box-th-1",style:{backgroundCcolor:"#fff!important"},children:[(0,i.jsx)("div",{class:"notif-card-icon-container",children:(0,i.jsx)("img",{src:"../../assets/images/dealcard.png",style:{width:"140px"}})}),(0,i.jsxs)("div",{class:"notif-card-msg-box-container",children:[(0,i.jsx)("div",{class:"notif-card-title-txt-container",children:(0,i.jsx)("p",{class:"notif-card-title-txt",style:{color:"#333!important"},children:"Unlock special offer"})}),(0,i.jsx)("div",{class:"notif-card-msg-txt-container",children:(0,i.jsxs)("p",{class:"notif-card-msg-txt",style:{color:"#777!important"},children:["Add this app to your home screen to continue. Tap Share",(0,i.jsx)("svg",{class:"notif-card-ic",viewBox:"0 0 512 512",children:(0,i.jsx)("path",{d:"M396.545 154.249h-51.039a18.7 18.7 0 1 0 0 37.401h51.052a18.723 18.723 0 0 1 18.7 18.7v244.55a18.723 18.723 0 0 1-18.7 18.7H115.443a18.723 18.723 0 0 1-18.7-18.7V210.35a18.723 18.723 0 0 1 18.7-18.7h51.052a18.7 18.7 0 0 0 0-37.401h-51.052a56.169 56.169 0 0 0-56.101 56.101v244.55A56.169 56.169 0 0 0 115.443 511h281.115a56.169 56.169 0 0 0 56.101-56.101V210.35a56.172 56.172 0 0 0-56.113-56.101zm-210.278-37.75l51.65-51.65v246.195a18.7 18.7 0 1 0 37.401 0V64.849l51.65 51.65a18.702 18.702 0 0 0 26.455-26.442L269.857 6.479a18.706 18.706 0 0 0-26.455 0l-83.578 83.578a18.697 18.697 0 0 0 26.442 26.442z"})}),"and then ",(0,i.jsx)("p",{style:{display:"inline"},children:"Add to Home Screen"}),(0,i.jsxs)("svg",{class:"notif-card-ic",viewBox:"0 0 512 512",children:[(0,i.jsx)("path",{d:"M384 42.667A85.419 85.419 0 0 1 469.333 128v256A85.419 85.419 0 0 1 384 469.333H128A85.419 85.419 0 0 1 42.667 384V128A85.419 85.419 0 0 1 128 42.667zM384 0H128A127.992 127.992 0 0 0 0 128v256a127.992 127.992 0 0 0 128 128h256a127.992 127.992 0 0 0 128-128V128A127.992 127.992 0 0 0 384 0zM256 384a21.327 21.327 0 0 1-21.333-21.333V149.333a21.334 21.334 0 1 1 42.667 0v213.333A21.327 21.327 0 0 1 256 384z"}),(0,i.jsx)("path",{d:"M128 256a21.327 21.327 0 0 1 21.333-21.333h213.333a21.333 21.333 0 0 1 0 42.667H149.333A21.327 21.327 0 0 1 128 256z"})]})]})})]})]})]})}},5088:()=>{}}]);
//# sourceMappingURL=335.62cdcec6.chunk.js.map