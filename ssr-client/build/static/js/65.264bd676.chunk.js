"use strict";(self.webpackChunkssr_client=self.webpackChunkssr_client||[]).push([[65],{4065:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var a=t(9643),i=t(7214),l=t.n(i),r=t(6507);const c=e=>{let{products:s}=e;return(0,r.jsx)("div",{className:"product-list",children:s.map(((e,s)=>{const t=Math.round(1.2*e.price);return(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("img",{src:e.image_url,alt:e.title}),(0,r.jsxs)("div",{className:"card-content",children:[(0,r.jsx)("div",{className:"highlights",children:e.highlights}),(0,r.jsx)("div",{className:"description",children:e.description}),(0,r.jsxs)("div",{className:"price",style:{position:"relative"},children:[(0,r.jsxs)("div",{className:"price-current",children:["\u20b9",e.price]}),(0,r.jsxs)("div",{className:"price-original",children:["\u20b9",t]}),(0,r.jsxs)("select",{id:"pCategory",className:"category-container",onChange:s=>{var t=e.id;console.log("--item id--",t),((e,s)=>{console.log("id: ",e),console.log("value: ",s);let t="available"==s.toLowerCase()?"Y":"N";l().post("/product-store/update/",{id:e,available:t}).then((async e=>{window.location.reload()}))})(t,s.target.options[s.target.selectedIndex].value)},children:[(0,r.jsx)("option",{value:"Y"==e.available?"Available":"Unavailable",selected:!0,children:"Y"==e.available?"Available":"Unavailable"}),(0,r.jsx)("option",{value:"N"==e.available?"Available":"Unavailable",children:"N"==e.available?"Available":"Unavailable"})]})]})]})]},s)}))})},n=e=>{const[s,t]=(0,a.useState)({});(0,a.useEffect)((()=>{l(0,"categories")}),[]);const i=((e,s)=>{const t=[];let a=e;for(;a&&"object"===typeof a;){const e=Object.keys(a);t.push({data:a,keys:e});const i=s[t.length-1];if(!i||!a[i])break;a=a[i]}return t})(e,Object.values(s)),l=(e,s)=>{if(document.getElementById("sub-tabs").style.display="inline-block","categories"!==s){if(console.log("--levelIndex--",e),window.filterStr="undefined"==typeof window.filterStr?s:window.filterStr+","+s,e<window.filterStr.split(",").length){let t=window.filterStr.split(",");t.splice(e-1,0,s),t.length=e,window.filterStr=t.toString()}console.log("--filterStr--",window.filterStr),window.onFilter(s,window.filterStr)}t((t=>{const a={...t};return a[e]=s,Object.keys(a).filter((s=>parseInt(s)>e)).forEach((e=>delete a[e])),a}))};return(0,r.jsx)("div",{children:i.map(((e,t)=>(window.scrollTo(0,55*t),t>0?(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"tabs",children:e.keys.map((e=>e.match(/^\d+$/)?null:(0,r.jsx)("div",{className:"tab ".concat(s[t]===e?"active":""),onClick:()=>l(t,e),children:e},e)))})},t):(0,r.jsx)("div",{}))))})},o=()=>(0,r.jsxs)("div",{className:"loading-screen",children:[(0,r.jsx)("div",{className:"shimmer",children:(0,r.jsxs)("div",{class:"wrapper",children:[(0,r.jsx)("div",{class:"animate image-card"}),(0,r.jsx)("div",{class:"animate stroke title"}),(0,r.jsx)("div",{class:"animate stroke link"}),(0,r.jsx)("div",{class:"animate stroke description"})]})}),(0,r.jsx)("div",{class:"shimmer",children:(0,r.jsxs)("div",{class:"wrapper",children:[(0,r.jsx)("div",{class:"animate image-card"}),(0,r.jsx)("div",{class:"animate stroke title"}),(0,r.jsx)("div",{class:"animate stroke link"}),(0,r.jsx)("div",{class:"animate stroke description"})]})}),(0,r.jsx)("div",{class:"shimmer",children:(0,r.jsxs)("div",{class:"wrapper",children:[(0,r.jsx)("div",{class:"animate image-card"}),(0,r.jsx)("div",{class:"animate stroke title"}),(0,r.jsx)("div",{class:"animate stroke link"}),(0,r.jsx)("div",{class:"animate stroke description"})]})}),(0,r.jsx)("div",{class:"shimmer",children:(0,r.jsxs)("div",{class:"wrapper",children:[(0,r.jsx)("div",{class:"animate image-card"}),(0,r.jsx)("div",{class:"animate stroke title"}),(0,r.jsx)("div",{class:"animate stroke link"}),(0,r.jsx)("div",{class:"animate stroke description"})]})}),(0,r.jsx)("div",{class:"shimmer",children:(0,r.jsxs)("div",{class:"wrapper",children:[(0,r.jsx)("div",{class:"animate image-card"}),(0,r.jsx)("div",{class:"animate stroke title"}),(0,r.jsx)("div",{class:"animate stroke link"}),(0,r.jsx)("div",{class:"animate stroke description"})]})})]}),d=e=>{let{url:s}=e;const[t,i]=(0,a.useState)(""),[d,v]=(0,a.useState)([]),[m,h]=(0,a.useState)([]),[u,g]=(0,a.useState)({}),[p,x]=(0,a.useState)(0),[j,b]=(0,a.useState)(!0),f=(e,s)=>{if(x(p+1),document.getElementById("tabDefault").classList.remove("active"),document.getElementById("tabSeasons").classList.remove("active"),document.getElementById("tabArrival").classList.remove("active"),document.getElementById(s).classList.add("active"),"tabDefault"==s){document.getElementById("sub-tabs").style.display="inline-block";const e=document.getElementById("sub-tabs");if(e){e.querySelectorAll(".active").forEach((e=>e.classList.remove("active")))}}else document.getElementById("sub-tabs").style.display="none";let t=0;try{t=JSON.parse(window.sessionStorage.getItem("user-profile")).storeId}catch(a){console.log("error")}l().get("/products/".concat(t,"/").concat(e)).then((function(e){"auth error"!=e.data&&(console.log("--product res--",JSON.stringify(e.data)),b(!1),v(e.data))}))};let w=0;try{w=JSON.parse(window.sessionStorage.getItem("user-profile")).storeId}catch(k){console.log("error")}if(0==d.length){let e=window.sessionStorage.getItem("user-profile"),s="/products/".concat(w);null!=e&&(s="/products-store/".concat(w,"/")),l().get(s).then(function(e){if("auth error"!=e.data){console.log("--product res--",JSON.stringify(e.data)),b(!1),v(e.data),h(e.data);let s=e.data,t={};s.forEach((e=>{const s=e.highlights.split(",").map((e=>e.trim()));let a=t;s.forEach(((e,t)=>{t===s.length-1?a[e]=0:(a[e]||(a[e]={}),a=a[e])}))})),g(t),console.log("tabMap:",t)}}.bind(void 0))}return window.onFilter=(e,s)=>{console.log("-selected-",e),console.log("-filters-"+s+"-");let t=s;const a=m.filter((e=>e.highlights.trim().indexOf(t.trim())>=0));console.log("--newArr--",a),v(a)},(0,r.jsx)("div",{className:"main",children:(0,r.jsxs)("div",{class:"container",children:[(0,r.jsx)("h1",{style:{marginLeft:"16px"},children:"View Products"}),(0,r.jsxs)("div",{class:"tabs-container",children:[(0,r.jsxs)("div",{class:"tabs",id:"main-tabs",children:[(0,r.jsx)("div",{id:"tabDefault",class:"tab active",onClick:()=>f("tags_default","tabDefault"),children:"All"}),(0,r.jsx)("div",{id:"tabSeasons",class:"tab",onClick:()=>f("tags_seasons_special","tabSeasons"),children:"Season's Special"}),(0,r.jsx)("div",{id:"tabArrival",class:"tab",onClick:()=>f("tags_new_arrival","tabArrival"),children:"New Arrivals"})]}),(0,r.jsx)("div",{class:"sub-tabs",id:"sub-tabs",style:{marginBottom:"0",marginTop:"-16px"},children:p>=0&&(0,r.jsx)(n,{categories:u})})]}),!j&&(0,r.jsx)(c,{products:d}),j&&(0,r.jsx)(o,{})]})})}}}]);
//# sourceMappingURL=65.264bd676.chunk.js.map