"use strict";(self.webpackChunkssr_client=self.webpackChunkssr_client||[]).push([[612],{612:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var i=t(9643),n=t(7214),c=t.n(n),a=t(6507);const o=e=>{let{url:s}=e;const[t,n]=(0,i.useState)("");return(0,i.useEffect)((()=>{document.getElementById("notif-tabs");const e=document.querySelectorAll(".notif-tab");e.forEach((s=>{s.addEventListener("click",(()=>{e.forEach((e=>e.classList.remove("active"))),s.classList.add("active")}))})),(async()=>{let e=JSON.parse(window.sessionStorage.getItem("user-profile")).businessType,s=[],t=(new Date).getMonth()+1,i=(new Date).getDate();c().get("/notif-config/".concat(e)).then(function(e){"auth error"!=e.data&&(console.log("--res--",JSON.stringify(e.data)),e.data.forEach((e=>{let n=e.date,c=parseInt(n.split("-")[0],10),a=parseInt(n.split("-")[1],10);t<=c&&i<=a&&s.push(e)})),n(s))}.bind(void 0))})()}),[]),(0,a.jsxs)("div",{className:"main",children:[(0,a.jsxs)("div",{class:"container",children:[(0,a.jsx)("h1",{children:"Notifications"}),(0,a.jsx)("div",{class:"notif-tabs-container",children:(0,a.jsxs)("div",{class:"notif-tabs",id:"notif-tabs",children:[(0,a.jsx)("div",{class:"notif-tab active",children:"Festive"}),(0,a.jsx)("div",{class:"notif-tab",children:"Content"}),(0,a.jsx)("div",{class:"notif-tab",children:"Events"})]})}),(0,a.jsx)("div",{className:"festive",children:t.length>0&&t.map(((e,s)=>(0,a.jsxs)("div",{className:"notif-item",children:[(0,a.jsx)("div",{className:"notif-item-title",children:e.title}),(0,a.jsx)("div",{className:"notif-item-desc",children:e.description}),(0,a.jsxs)("div",{className:"notif-item-due",children:["Due by ",e.date]})]})))}),(0,a.jsxs)("div",{className:"new-notif",children:[(0,a.jsx)("input",{id:"pTitle",type:"text",placeholder:"Title"}),(0,a.jsx)("textarea",{id:"pDesc",placeholder:"Description"})]})]}),(0,a.jsx)("div",{class:"footer-buttons",children:(0,a.jsxs)("button",{onClick:()=>{const e=document.querySelector("#pTitle").value,s=document.querySelector("#pDesc").value,t=JSON.parse(window.sessionStorage.getItem("user-profile")).storeId;console.log("--title--",e),console.log("--description--",s),c().post("/push-notif",{title:e,description:s,storeId:t}).then((e=>{console.log("--Notif Response--",e)}))},children:[(0,a.jsx)("span",{children:"Send"}),(0,a.jsx)("i",{class:"fas fa-arrow-right"})]})})]})}}}]);
//# sourceMappingURL=612.ed8b89e5.chunk.js.map