"use strict";(self.webpackChunkssr_client=self.webpackChunkssr_client||[]).push([[987],{987:(e,s,t)=>{t.r(s),t.d(s,{default:()=>m});var i=t(9643),a=t(7214),l=t.n(a),c=t(6507);const n=e=>{let{product:s,index:t}=e;const a=Math.round(1.2*s.price),[l,n]=(0,i.useState)(0),r=e=>{e>=1?(document.getElementById("checkoutHeader").style.display="block",document.getElementById("checkoutCount").innerHTML=e):document.getElementById("checkoutHeader").style.display="none"};return(0,c.jsxs)("div",{className:"card",children:[(0,c.jsx)("img",{src:s.image_url,alt:s.title}),(0,c.jsxs)("div",{className:"card-content",children:[(0,c.jsx)("div",{className:"highlights",children:s.highlights}),(0,c.jsx)("div",{className:"description",children:s.description}),(0,c.jsxs)("div",{className:"price",children:[(0,c.jsxs)("div",{className:"price-current",children:["\u20b9",s.price]}),(0,c.jsxs)("div",{className:"price-original",children:["\u20b9",a]})]}),(0,c.jsxs)("div",{className:"quantity",children:[(0,c.jsx)("a",{className:"quantity__minus",children:(0,c.jsx)("span",{style:{fontSize:"25px",lineHeight:"0px",marginLeft:"2px"},onClick:()=>{l>=1&&(n(l-1),r(l-1))},children:"-"})}),(0,c.jsx)("input",{name:"quantity",type:"text",className:"quantity__input",value:l}),(0,c.jsx)("a",{className:"quantity__plus",onClick:()=>{n(l+1),r(l+1)},children:(0,c.jsx)("span",{children:"+"})})]})]})]},t)},r=e=>{let{products:s}=e;return(0,c.jsxs)("div",{className:"product-list",children:[(0,c.jsx)("div",{id:"checkoutHeader",children:(0,c.jsxs)("div",{id:"checkoutBtn",className:"card-btn checkout",onClick:()=>{document.getElementById("checkoutModal").style.top="-40px",(void 0).setState({orderSummary:null!=localStorage.getItem("basket")?JSON.parse(localStorage.getItem("basket")):[]})},children:["Checkout\xa0\u2192",(0,c.jsx)("div",{className:""}),(0,c.jsx)("div",{id:"checkoutCount",class:"c-count",children:"0"})]})}),s.map(((e,s)=>(0,c.jsx)(n,{product:e,index:s})))]})},d=e=>{const[s,t]=(0,i.useState)({});(0,i.useEffect)((()=>{l(0,"categories")}),[]);const a=((e,s)=>{const t=[];let i=e;for(;i&&"object"===typeof i;){const e=Object.keys(i);t.push({data:i,keys:e});const a=s[t.length-1];if(!a||!i[a])break;i=i[a]}return t})(e,Object.values(s)),l=(e,s)=>{if(document.getElementById("sub-tabs").style.display="inline-block","categories"!==s){if(console.log("--levelIndex--",e),window.filterStr="undefined"==typeof window.filterStr?s:window.filterStr+","+s,e<window.filterStr.split(",").length){let t=window.filterStr.split(",");t.splice(e-1,0,s),t.length=e,window.filterStr=t.toString()}console.log("--filterStr--",window.filterStr),window.onFilter(s,window.filterStr)}t((t=>{const i={...t};return i[e]=s,Object.keys(i).filter((s=>parseInt(s)>e)).forEach((e=>delete i[e])),i}))};return(0,c.jsx)("div",{children:a.map(((e,t)=>(window.scrollTo(0,55*t),t>0?(0,c.jsx)("div",{children:(0,c.jsx)("div",{className:"tabs",children:e.keys.map((e=>e.match(/^\d+$/)?null:(0,c.jsx)("div",{className:"tab ".concat(s[t]===e?"active":""),onClick:()=>l(t,e),children:e},e)))})},t):(0,c.jsx)("div",{}))))})},o=()=>(0,c.jsxs)("div",{className:"loading-screen",children:[(0,c.jsx)("div",{className:"shimmer",children:(0,c.jsxs)("div",{class:"wrapper",children:[(0,c.jsx)("div",{class:"animate image-card"}),(0,c.jsx)("div",{class:"animate stroke title"}),(0,c.jsx)("div",{class:"animate stroke link"}),(0,c.jsx)("div",{class:"animate stroke description"})]})}),(0,c.jsx)("div",{class:"shimmer",children:(0,c.jsxs)("div",{class:"wrapper",children:[(0,c.jsx)("div",{class:"animate image-card"}),(0,c.jsx)("div",{class:"animate stroke title"}),(0,c.jsx)("div",{class:"animate stroke link"}),(0,c.jsx)("div",{class:"animate stroke description"})]})}),(0,c.jsx)("div",{class:"shimmer",children:(0,c.jsxs)("div",{class:"wrapper",children:[(0,c.jsx)("div",{class:"animate image-card"}),(0,c.jsx)("div",{class:"animate stroke title"}),(0,c.jsx)("div",{class:"animate stroke link"}),(0,c.jsx)("div",{class:"animate stroke description"})]})}),(0,c.jsx)("div",{class:"shimmer",children:(0,c.jsxs)("div",{class:"wrapper",children:[(0,c.jsx)("div",{class:"animate image-card"}),(0,c.jsx)("div",{class:"animate stroke title"}),(0,c.jsx)("div",{class:"animate stroke link"}),(0,c.jsx)("div",{class:"animate stroke description"})]})}),(0,c.jsx)("div",{class:"shimmer",children:(0,c.jsxs)("div",{class:"wrapper",children:[(0,c.jsx)("div",{class:"animate image-card"}),(0,c.jsx)("div",{class:"animate stroke title"}),(0,c.jsx)("div",{class:"animate stroke link"}),(0,c.jsx)("div",{class:"animate stroke description"})]})})]}),m=e=>{let{url:s,storeConfig:t}=e;const[a,n]=(0,i.useState)(""),[m,u]=(0,i.useState)([]),[h,v]=(0,i.useState)([]),[x,j]=(0,i.useState)({}),[p,g]=(0,i.useState)(0),[k,b]=(0,i.useState)(!0);console.log("--store c1--",t);const f=(e,s)=>{if(g(p+1),document.getElementById("tabDefault").classList.remove("active"),document.getElementById("tabSeasons").classList.remove("active"),document.getElementById("tabArrival").classList.remove("active"),document.getElementById(s).classList.add("active"),"tabDefault"==s){document.getElementById("sub-tabs").style.display="inline-block";const e=document.getElementById("sub-tabs");if(e){e.querySelectorAll(".active").forEach((e=>e.classList.remove("active")))}}else document.getElementById("sub-tabs").style.display="none";let i=0;try{i=t.storeId}catch(a){console.log("error")}l().get("/products/".concat(i,"/").concat(e)).then((function(e){"auth error"!=e.data&&(console.log("--product res--",JSON.stringify(e.data)),b(!1),u(e.data))}))};let y=0;try{y=t.storeId}catch(w){console.log("error")}return 0==m.length&&l().get("/products/".concat(y)).then(function(e){if("auth error"!=e.data){console.log("--product res--",JSON.stringify(e.data)),b(!1),u(e.data),v(e.data);let s=e.data,t={};s.forEach((e=>{const s=e.highlights.split(",").map((e=>e.trim()));let i=t;s.forEach(((e,t)=>{t===s.length-1?i[e]=0:(i[e]||(i[e]={}),i=i[e])}))})),j(t),console.log("tabMap:",t)}}.bind(void 0)),window.onFilter=(e,s)=>{console.log("-selected-",e),console.log("-filters-"+s+"-");let t=s;const i=h.filter((e=>e.highlights.trim().indexOf(t.trim())>=0));console.log("--newArr--",i),u(i)},(0,c.jsx)("div",{className:"main",children:(0,c.jsxs)("div",{class:"container",children:[(0,c.jsx)("h1",{style:{marginLeft:"16px"},children:"View Products"}),(0,c.jsxs)("div",{class:"tabs-container",children:[(0,c.jsxs)("div",{class:"tabs",id:"main-tabs",children:[(0,c.jsx)("div",{id:"tabDefault",class:"tab active",onClick:()=>f("tags_default","tabDefault"),children:"All"}),(0,c.jsx)("div",{id:"tabSeasons",class:"tab",onClick:()=>f("tags_seasons_special","tabSeasons"),children:"Season's Special"}),(0,c.jsx)("div",{id:"tabArrival",class:"tab",onClick:()=>f("tags_new_arrival","tabArrival"),children:"New Arrivals"})]}),(0,c.jsx)("div",{class:"sub-tabs",id:"sub-tabs",style:{marginBottom:"0",marginTop:"-16px"},children:p>=0&&(0,c.jsx)(d,{categories:x})})]}),!k&&(0,c.jsx)(r,{products:m}),k&&(0,c.jsx)(o,{})]})})}}}]);
//# sourceMappingURL=987.3113af1b.chunk.js.map