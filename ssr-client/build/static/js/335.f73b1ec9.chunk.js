"use strict";(self.webpackChunkssr_client=self.webpackChunkssr_client||[]).push([[335],{2742:(e,s,t)=>{t.d(s,{u:()=>n});var a=t(7214),o=t.n(a);const n=(e,s)=>{o().post("/track",{storeId:e,metric:s}).then((e=>{}))}},3102:(e,s,t)=>{t.d(s,{C:()=>a});const a={REPEAT_VISITS:"REPEAT_VISITS",QR_VISITS:"QR_VISITS",DIRECT_VISITS:"DIRECT_VISITS",DEALS_CLAIMED:"DEALS_CLAIMED",SHARES:"SHARES",SHARE_VISITS:"SHARE_VISITS",SHARE_DEALS_CLAIMED:"SHARE_DEALS_CLAIMED",STORE_BROWSE:"STORE_BROWSE",ENQUIRIES:"ENQUIRIES",BASKET_ADD:"BASKET_ADD",RE_ORDER:"RE_ORDER"}},9335:(e,s,t)=>{t.a(e,(async(e,a)=>{try{t.r(s),t.d(s,{default:()=>m});t(5088);var o=t(9643),n=t(7214),l=t.n(n),i=t(5670),c=t(1539),r=t(2742),d=t(3102),u=t(6507),g=e([c]);c=(g.then?(await g)():g)[0];const h=()=>{console.log("--clicked log out--"),alert("Log out")},m=e=>{const[s,t]=(0,o.useState)(!1),[a,n]=(0,o.useState)(!1),[g,m]=(0,o.useState)(!1),[p,S]=(0,o.useState)(0),[I,f]=(0,o.useState)(0),[w,x]=(0,o.useState)(!1),[b,v]=(0,o.useState)(!1),[j,E]=(0,o.useState)(!1),[y,A]=(0,o.useState)(!1),[k,_]=(0,o.useState)(!1),[C,R]=(0,o.useState)([]),[L,T]=(0,o.useState)(""),[V,M]=(0,o.useState)(null);let O="/";const B=e=>{l().get("/user/st-cashback/".concat(localStorage.getItem("nanoId"),"/").concat(e)).then((function(e){console.log("--user cashback data-----",e.data.cashBackValue),null!=e.data&&e.data.cashBackValue>0&&(m(!0),S(e.data.cashBackValue),f(e.data.maxCashBackValue),localStorage.setItem("cashback-value",e.data.cashBackValue))}))},H=()=>{document.querySelector("#idHeader").classList.remove("card-margin-header"),document.querySelector("#idMenu").classList.remove("card-margin-menu"),document.querySelector("#idLogoSm").classList.remove("card-margin-logo-sm"),document.querySelector("#idLogo").classList.remove("card-margin-logo")},D=()=>"subscribed"==window.PushAlertCo.getSubsInfo().status||null!=localStorage.getItem("notif-shown")&&"true"==localStorage.getItem("notif-shown"),P=()=>{null==localStorage.getItem("notif-shown")&&localStorage.setItem("notif-shown","true")},q=()=>{},U=e=>{console.log("cb-",e.subscriber_id),console.log("cb-",e.alreadySubscribed),null==localStorage.getItem("subscribed")?(H(),x(!1),z(window.storeConfig.storeId),(0,r.u)(window.storeConfig.storeId,d.C.DEALS_CLAIMED),localStorage.setItem("subscribed","true")):(x(!1),H())},z=e=>{let s=localStorage.getItem("nanoId");null==s&&(s=(0,i.Ak)(),localStorage.setItem("nanoId",s));l().post("/store/user/create/",{nanoId:s,storeId:e,cashbackPc:.1,storeUrl:window.shopOnlineUrl}).then((async s=>{console.log(s.status),B(e),v(!0),(0,c.default)(),setTimeout((()=>{E(!0)}),3200)}))},F=e=>{if(null==localStorage.getItem("subscribed")||"true"!=localStorage.getItem("subscribed")?["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document?(console.log("isNotificationShown: ",D()),D()?P():(document.querySelector("#idHeader").classList.add("card-margin-header"),document.querySelector("#idMenu").classList.add("card-margin-menu"),document.querySelector("#idLogoSm").classList.add("card-margin-logo-sm"),document.querySelector("#idLogo").classList.add("card-margin-logo"),x(!0),localStorage.setItem("notif-shown","true"))):P():(x(!1),H()),window.pushalertbyiw){window.pushalertbyiw.push(["onSuccess",U]);let s=localStorage.getItem("nanoId");null==s&&(s=(0,i.Ak)(),localStorage.setItem("nanoId",s));let t=window.location.pathname.split("/")[3];null!=t&&""!=t&&l().post("/store-user-segment/create",{nanoid:s,productType:t,storeId:e}).then((e=>{if(null!=e.data){let s;(s=window.pushalertbyiw||[]).push(["addToSegment",e.data.segment,q])}}))}};(0,o.useEffect)((()=>{var e;t(!0);let s={swirlyojpnagar:{storeId:"9",placeId:""},kidsaurajpnagar:{storeId:"13",placeId:"ChIJjSGVUwAVrjsRKuLMxFv9BYE"},mumnminijpnagar:{storeId:"15",placeId:"ChIJ7bp1FhoVrjsRCe4pyE9z6ZU"}}[null===(e=window)||void 0===e?void 0:e.location.pathname.split("/")[2]];if(window.storeConfig=s,M(s),O=window.location.href,O&&O.indexOf("/app/shop/")>=0)n(!0);else{(e=>{let s=window.location.href,t="",a="";if("undefined"!==typeof s&&-1!=s.indexOf("/app/")){if(a=s.substring(s.indexOf("/app/")+5,s.length),window.location.pathname.split("/").length>=4){let e=window.location.pathname.split("/")[2];null!=e&&""!=e&&(a=e)}a.indexOf("?")>=0&&(a=a.substring(0,a.indexOf("?"))),T(a),t="../../app/blr/".concat(a,"/images/logo.png")}else t="../../app/blr/swirlyojpnagar/images/logo.png";t.indexOf("/from=qr")>=0?((0,r.u)(e,d.C.QR_VISITS),(0,r.u)(e,d.C.STORE_BROWSE),t=t.replace("/from=qr","")):((0,r.u)(e,d.C.REPEAT_VISITS),(0,r.u)(e,d.C.STORE_BROWSE)),console.log("--logosrc--",y),A(t)})(s.storeId),B(s.storeId),F(s.storeId);let e=(e=>{var s;return null===(s=document.cookie.split("; ").find((s=>s.startsWith(e+"="))))||void 0===s?void 0:s.split("=")[1]})("nanoId");l().post("/user-fav-store/create",{nanoId:e,storeId:parseInt(s.storeId,10)}).then((async e=>{}))}}),[]),console.log("--props.locationHref--",e.locationHref),s&&(O=window.location.href,O.indexOf("?")>=0&&(O=window.location.href.substring(0,window.location.href.indexOf("?"))));const N=()=>{v(!0),document.getElementById("scardMain").classList.remove("bounce-3"),document.getElementById("scardMainInner").classList.remove("bounce-3"),E(!1),setTimeout("document.getElementById('scardMain').classList.add('bounce-3');",50),setTimeout("document.getElementById('scardMainInner').classList.add('bounce-3');",50),setTimeout((()=>{E(!0)}),3200)},W=async e=>{let s="";if(navigator.share){let t=localStorage.getItem("nanoId");null==t&&(t=(0,i.Ak)(),localStorage.setItem("nanoId",t));let a=.05;a=.2,_(!0),l().get("/shops/place/".concat(V.placeId)).then((function(o){if(console.log("--place data-----",o.data),null!=o.data){let n=o.data.split(",");R(n),l().post("/store/user/create/",{nanoId:t,storeId:V.storeId,cashbackPc:a,storeUrl:"/app/"+L+"/"}).then((async a=>{console.log(a.status);try{s=null!=e&&n.length>0?"Hey!.. Sharing this personalised deal with you!\n\nI just had a great experience visiting "+e.name+" & they've shared a warm offer. \ud83d\udcaa\n\n They're known for:\n\n"+n.join("\n")+".\n\nVisit them on Slashify now! \ud83d\udd17 - https://www.wishler.in/app/shop/id="+e.place_id+"&u="+t+" \n\n\u2705 Get \u20b9300 OFF on next order\n\u2705 We both earn additional \u20b9200 cashback\n\u2705 Valid for 30 days only\n\n*T&C* Applied*":"",(0,r.u)(V.storeId,d.C.SHARES),await navigator.share({title:"Special offer on Slashify \ud83c\udf89",text:s,url:"https://www.lootler.com/app/shop/id="+V.placeId+"&u="+t}),_(!1),B(V.storeId),v(!0),(0,c.default)(),console.log("Shared successfully")}catch(o){console.error("Share failed:",o)}setTimeout(function(){_(!1)}.bind(this),2e3)}))}else alert("Sharing not supported on this browser.")}))}};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{id:"idHeader",className:"header",children:[!a&&(0,u.jsxs)("svg",{id:"idMenu",onClick:e.showSideBar,className:"menu-bar text-indigo-600",width:"41",height:"41",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:["                ",(0,u.jsx)("rect",{width:"56",height:"56",rx:"16",fill:"#b9b9b9"}),"                ",(0,u.jsx)("path",{d:"M37 32H19M37 24H19",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),"              "]}),!a&&(0,u.jsx)("img",{id:"idLogoSm",onClick:()=>window.location.href=O,className:"store-logo-sm",src:y}),(0,u.jsx)("img",{id:"idLogo",class:a?"store-logo-shop":"store-logo",src:"../../assets/images/lrlogo2.png"}),e.loggedOut&&!a&&(0,u.jsx)("span",{id:"logout",className:"logout",onClick:h,children:"Logout"})]}),w&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{class:"notif-card-box-th notif-card-box-th-1",style:{backgroundCcolor:"#fff!important"},children:[(0,u.jsx)("div",{class:"notif-card-icon-container",children:(0,u.jsx)("img",{src:"../../assets/images/dealcard.png",style:{width:"140px"}})}),(0,u.jsxs)("div",{class:"notif-card-msg-box-container",children:[(0,u.jsx)("div",{class:"notif-card-title-txt-container",children:(0,u.jsx)("p",{class:"notif-card-title-txt",style:{color:"#333!important"},children:"Unlock special offer"})}),(0,u.jsx)("div",{class:"notif-card-msg-txt-container",children:(0,u.jsxs)("p",{class:"notif-card-msg-txt",style:{color:"#777!important"},children:["Add this app to your home screen to continue. Tap Share",(0,u.jsx)("svg",{class:"notif-card-ic",viewBox:"0 0 512 512",children:(0,u.jsx)("path",{d:"M396.545 154.249h-51.039a18.7 18.7 0 1 0 0 37.401h51.052a18.723 18.723 0 0 1 18.7 18.7v244.55a18.723 18.723 0 0 1-18.7 18.7H115.443a18.723 18.723 0 0 1-18.7-18.7V210.35a18.723 18.723 0 0 1 18.7-18.7h51.052a18.7 18.7 0 0 0 0-37.401h-51.052a56.169 56.169 0 0 0-56.101 56.101v244.55A56.169 56.169 0 0 0 115.443 511h281.115a56.169 56.169 0 0 0 56.101-56.101V210.35a56.172 56.172 0 0 0-56.113-56.101zm-210.278-37.75l51.65-51.65v246.195a18.7 18.7 0 1 0 37.401 0V64.849l51.65 51.65a18.702 18.702 0 0 0 26.455-26.442L269.857 6.479a18.706 18.706 0 0 0-26.455 0l-83.578 83.578a18.697 18.697 0 0 0 26.442 26.442z"})}),"and then ",(0,u.jsx)("p",{style:{display:"inline"},children:"Add to Home Screen"}),(0,u.jsxs)("svg",{class:"notif-card-ic",viewBox:"0 0 512 512",children:[(0,u.jsx)("path",{d:"M384 42.667A85.419 85.419 0 0 1 469.333 128v256A85.419 85.419 0 0 1 384 469.333H128A85.419 85.419 0 0 1 42.667 384V128A85.419 85.419 0 0 1 128 42.667zM384 0H128A127.992 127.992 0 0 0 0 128v256a127.992 127.992 0 0 0 128 128h256a127.992 127.992 0 0 0 128-128V128A127.992 127.992 0 0 0 384 0zM256 384a21.327 21.327 0 0 1-21.333-21.333V149.333a21.334 21.334 0 1 1 42.667 0v213.333A21.327 21.327 0 0 1 256 384z"}),(0,u.jsx)("path",{d:"M128 256a21.327 21.327 0 0 1 21.333-21.333h213.333a21.333 21.333 0 0 1 0 42.667H149.333A21.327 21.327 0 0 1 128 256z"})]})]})})]})]}),(0,u.jsx)("div",{}),(0,u.jsx)("div",{class:"card-modal"})]}),b&&I>0&&(0,u.jsxs)("div",{class:"holder",children:[(0,u.jsx)("div",{id:"scardMain",class:"scard-bg bounce-3"}),(0,u.jsxs)("div",{id:"scardMainInner",class:"scard bounce-3",children:[(0,u.jsx)("img",{class:"sslogo",src:"../../assets/images/slogos.png"}),(0,u.jsxs)("div",{class:"cashback-type",children:["Upto ",I," OFF"]}),(0,u.jsx)("div",{class:"card__elig",children:"*Eligible online & in-store across all partner stores in"}),(0,u.jsx)("img",{class:"card__elig_loc",src:"../../assets/images/sblr.png"}),(0,u.jsx)("img",{class:"card__elig_loc_logo",src:"../../assets/images/sloc_blr.png"}),(0,u.jsx)("div",{class:"card__text"}),(0,u.jsx)("div",{class:"ssbox left-skew"}),(0,u.jsxs)("div",{class:"cashback-value",children:["\u20b9",p," collected"]})]})]}),I>0&&(0,u.jsx)("div",{class:"holder",children:(0,u.jsxs)("div",{class:"scard-mini",children:[(0,u.jsx)("img",{class:"sslogo",src:"../../assets/images/slogos.png",onClick:N}),(0,u.jsxs)("span",{class:"scard-mini-text",onClick:W,children:["Share to earn upto \u20b9",I,"/-"]}),(0,u.jsx)("div",{id:"webcrumbs",class:"mini-share-ic",onClick:W,children:(0,u.jsx)("i",{class:"fa-brands fa-whatsapp text-xl",style:{fontSize:"34px",color:"#22c55d"}})}),(0,u.jsx)("div",{class:"card__text"}),(0,u.jsx)("div",{class:"ssbox left-skew",onClick:N}),(0,u.jsxs)("div",{class:"scard-mini-cashback",onClick:N,children:["\u20b9",p," collected"]})]})})]})};a()}catch(h){a(h)}}))},5088:()=>{},5670:(e,s,t)=>{t.d(s,{Ak:()=>a});let a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,s="",t=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)s+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&t[e]];return s}}}]);
//# sourceMappingURL=335.f73b1ec9.chunk.js.map