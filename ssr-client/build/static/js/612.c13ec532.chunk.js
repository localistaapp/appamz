"use strict";(self.webpackChunkssr_client=self.webpackChunkssr_client||[]).push([[612],{612:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var i=s(9643),n=s(7214),a=s.n(n),c=s(6507);const o=e=>{let{url:t}=e;const[s,n]=(0,i.useState)("");return(0,i.useEffect)((()=>{document.getElementById("notif-tabs");const e=document.querySelectorAll(".notif-tab");e.forEach((t=>{t.addEventListener("click",(()=>{e.forEach((e=>e.classList.remove("active"))),t.classList.add("active")}))})),(async()=>{let e=JSON.parse(window.sessionStorage.getItem("user-profile")).businessType,t=[],s=(new Date).getMonth()+1,i=(new Date).getDate();a().get("/notif-config/".concat(e)).then(function(e){"auth error"!=e.data&&(console.log("--res--",JSON.stringify(e.data)),e.data.forEach((e=>{let n=e.date,a=parseInt(n.split("-")[0],10),c=parseInt(n.split("-")[1],10);s<=a&&i<=c&&t.push(e)})),n(t))}.bind(void 0))})()}),[]),(0,c.jsxs)("div",{className:"main",children:[(0,c.jsxs)("div",{class:"container",children:[(0,c.jsx)("h1",{children:"Notifications"}),(0,c.jsx)("div",{class:"notif-tabs-container",children:(0,c.jsxs)("div",{class:"notif-tabs",id:"notif-tabs",children:[(0,c.jsx)("div",{class:"notif-tab active",children:"Festive"}),(0,c.jsx)("div",{class:"notif-tab",children:"Content"}),(0,c.jsx)("div",{class:"notif-tab",children:"Events"})]})}),(0,c.jsx)("div",{className:"festive",children:s.length>0&&s.map(((e,t)=>(0,c.jsxs)("div",{className:"notif-item",children:[(0,c.jsx)("div",{className:"notif-item-title",children:e.title}),(0,c.jsx)("div",{className:"notif-item-desc",children:e.description}),(0,c.jsxs)("div",{className:"notif-item-due",children:["Due by ",e.date]})]})))}),(0,c.jsxs)("div",{className:"new-notif",children:[(0,c.jsx)("input",{id:"pTitle",type:"text",placeholder:"Title"}),(0,c.jsx)("textarea",{id:"pDesc",placeholder:"Description"})]})]}),(0,c.jsx)("div",{class:"footer-buttons",children:(0,c.jsxs)("button",{onClick:()=>{const e=document.querySelector("#pTitle").value,t=document.querySelector("#pDesc").value,s=JSON.parse(window.sessionStorage.getItem("user-profile")).storeId;console.log("--title--",e),console.log("--description--",t),a().post("/push-notif",{title:e,description:t,storeId:s}).then((e=>{setTimeout((()=>{window.location.reload()}),500)}))},children:[(0,c.jsx)("span",{children:"Send"}),(0,c.jsx)("i",{class:"fas fa-arrow-right"})]})})]})}}}]);
//# sourceMappingURL=612.c13ec532.chunk.js.map