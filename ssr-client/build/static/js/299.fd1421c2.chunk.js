"use strict";(self.webpackChunkssr_client=self.webpackChunkssr_client||[]).push([[299],{5299:(s,e,t)=>{t.r(e),t.d(e,{default:()=>o});var i=t(9643),a=t(7214),l=t.n(a),r=t(6507);const c=s=>{let{products:e}=s;return(0,r.jsx)("div",{className:"product-list",children:e.map(((s,e)=>{const t=Math.round(1.2*s.price);return(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("img",{src:s.image_url,alt:s.title}),(0,r.jsxs)("div",{className:"card-content",children:[(0,r.jsx)("div",{className:"highlights",children:s.highlights}),(0,r.jsx)("div",{className:"description",children:s.description}),(0,r.jsxs)("div",{className:"price",children:[(0,r.jsxs)("div",{className:"price-current",children:["\u20b9",s.price]}),(0,r.jsxs)("div",{className:"price-original",children:["\u20b9",t]})]})]})]},e)}))})},n=s=>{const[e,t]=(0,i.useState)({});(0,i.useEffect)((()=>{l(0,"categories")}),[]);const a=((s,e)=>{const t=[];let i=s;for(;i&&"object"===typeof i;){const s=Object.keys(i);t.push({data:i,keys:s});const a=e[t.length-1];if(!a||!i[a])break;i=i[a]}return t})(s,Object.values(e)),l=(s,e)=>{if(document.getElementById("sub-tabs").style.display="inline-block","categories"!==e){if(console.log("--levelIndex--",s),window.filterStr="undefined"==typeof window.filterStr?e:window.filterStr+","+e,s<window.filterStr.split(",").length){let t=window.filterStr.split(",");t.splice(s-1,0,e),t.length=s,window.filterStr=t.toString()}console.log("--filterStr--",window.filterStr),window.onFilter(e,window.filterStr)}t((t=>{const i={...t};return i[s]=e,Object.keys(i).filter((e=>parseInt(e)>s)).forEach((s=>delete i[s])),i}))};return(0,r.jsx)("div",{children:a.map(((s,t)=>(window.scrollTo(0,55*t),t>0?(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"tabs",children:s.keys.map((s=>s.match(/^\d+$/)?null:(0,r.jsx)("div",{className:"tab ".concat(e[t]===s?"active":""),onClick:()=>l(t,s),children:s},s)))})},t):(0,r.jsx)("div",{}))))})},d=()=>(0,r.jsxs)("div",{className:"loading-screen",children:[(0,r.jsx)("div",{className:"shimmer",children:(0,r.jsxs)("div",{class:"wrapper",children:[(0,r.jsx)("div",{class:"animate image-card"}),(0,r.jsx)("div",{class:"animate stroke title"}),(0,r.jsx)("div",{class:"animate stroke link"}),(0,r.jsx)("div",{class:"animate stroke description"})]})}),(0,r.jsx)("div",{class:"shimmer",children:(0,r.jsxs)("div",{class:"wrapper",children:[(0,r.jsx)("div",{class:"animate image-card"}),(0,r.jsx)("div",{class:"animate stroke title"}),(0,r.jsx)("div",{class:"animate stroke link"}),(0,r.jsx)("div",{class:"animate stroke description"})]})}),(0,r.jsx)("div",{class:"shimmer",children:(0,r.jsxs)("div",{class:"wrapper",children:[(0,r.jsx)("div",{class:"animate image-card"}),(0,r.jsx)("div",{class:"animate stroke title"}),(0,r.jsx)("div",{class:"animate stroke link"}),(0,r.jsx)("div",{class:"animate stroke description"})]})}),(0,r.jsx)("div",{class:"shimmer",children:(0,r.jsxs)("div",{class:"wrapper",children:[(0,r.jsx)("div",{class:"animate image-card"}),(0,r.jsx)("div",{class:"animate stroke title"}),(0,r.jsx)("div",{class:"animate stroke link"}),(0,r.jsx)("div",{class:"animate stroke description"})]})}),(0,r.jsx)("div",{class:"shimmer",children:(0,r.jsxs)("div",{class:"wrapper",children:[(0,r.jsx)("div",{class:"animate image-card"}),(0,r.jsx)("div",{class:"animate stroke title"}),(0,r.jsx)("div",{class:"animate stroke link"}),(0,r.jsx)("div",{class:"animate stroke description"})]})})]}),o=s=>{let{url:e}=s;const[t,a]=(0,i.useState)(""),[o,m]=(0,i.useState)([]),[v,h]=(0,i.useState)([]),[j,u]=(0,i.useState)({}),[x,g]=(0,i.useState)(0),[p,f]=(0,i.useState)(!0),b=(s,e)=>{if(g(x+1),document.getElementById("tabDefault").classList.remove("active"),document.getElementById("tabSeasons").classList.remove("active"),document.getElementById("tabArrival").classList.remove("active"),document.getElementById(e).classList.add("active"),"tabDefault"==e){document.getElementById("sub-tabs").style.display="inline-block";const s=document.getElementById("sub-tabs");if(s){s.querySelectorAll(".active").forEach((s=>s.classList.remove("active")))}}else document.getElementById("sub-tabs").style.display="none";let t=0;try{t=JSON.parse(window.sessionStorage.getItem("user-profile")).storeId}catch(i){console.log("error")}l().get("/products/".concat(t,"/").concat(s)).then((function(s){"auth error"!=s.data&&(console.log("--product res--",JSON.stringify(s.data)),f(!1),m(s.data))}))};let w=0;try{w=JSON.parse(window.sessionStorage.getItem("user-profile")).storeId}catch(k){console.log("error")}return 0==o.length&&l().get("/products/".concat(w)).then(function(s){if("auth error"!=s.data){console.log("--product res--",JSON.stringify(s.data)),f(!1),m(s.data),h(s.data);let e=s.data,t={};e.forEach((s=>{const e=s.highlights.split(",").map((s=>s.trim()));let i=t;e.forEach(((s,t)=>{t===e.length-1?i[s]=0:(i[s]||(i[s]={}),i=i[s])}))})),u(t),console.log("tabMap:",t)}}.bind(void 0)),window.onFilter=(s,e)=>{console.log("-selected-",s),console.log("-filters-"+e+"-");let t=e;const i=v.filter((s=>s.highlights.trim().indexOf(t.trim())>=0));console.log("--newArr--",i),m(i)},(0,r.jsx)("div",{className:"main",children:(0,r.jsxs)("div",{class:"container",children:[(0,r.jsx)("h1",{style:{marginLeft:"16px"},children:"View Products"}),(0,r.jsxs)("div",{class:"tabs-container",children:[(0,r.jsxs)("div",{class:"tabs",id:"main-tabs",children:[(0,r.jsx)("div",{id:"tabDefault",class:"tab active",onClick:()=>b("tags_default","tabDefault"),children:"All"}),(0,r.jsx)("div",{id:"tabSeasons",class:"tab",onClick:()=>b("tags_seasons_special","tabSeasons"),children:"Season's Special"}),(0,r.jsx)("div",{id:"tabArrival",class:"tab",onClick:()=>b("tags_new_arrival","tabArrival"),children:"New Arrivals"})]}),(0,r.jsx)("div",{class:"sub-tabs",id:"sub-tabs",style:{marginBottom:"0",marginTop:"-16px"},children:x>=0&&(0,r.jsx)(n,{categories:j})})]}),!p&&(0,r.jsx)(c,{products:o}),p&&(0,r.jsx)(d,{})]})})}}}]);
//# sourceMappingURL=299.fd1421c2.chunk.js.map