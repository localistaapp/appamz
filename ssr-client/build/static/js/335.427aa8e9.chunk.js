"use strict";(self.webpackChunkssr_client=self.webpackChunkssr_client||[]).push([[335],{2742:(s,e,a)=>{a.d(e,{u:()=>c});var o=a(7214),t=a.n(o);const c=(s,e)=>{t().post("/track",{storeId:s,metric:e}).then((s=>{}))}},3102:(s,e,a)=>{a.d(e,{C:()=>o});const o={REPEAT_VISITS:"REPEAT_VISITS",QR_VISITS:"QR_VISITS",DIRECT_VISITS:"DIRECT_VISITS",DEALS_CLAIMED:"DEALS_CLAIMED",SHARES:"SHARES",SHARE_VISITS:"SHARE_VISITS",SHARE_DEALS_CLAIMED:"SHARE_DEALS_CLAIMED",STORE_BROWSE:"STORE_BROWSE",ENQUIRIES:"ENQUIRIES",BASKET_ADD:"BASKET_ADD",RE_ORDER:"RE_ORDER"}},9335:(s,e,a)=>{a.a(s,(async(s,o)=>{try{a.r(e),a.d(e,{default:()=>h});a(5088);var t=a(9643),c=a(7214),i=a.n(c),l=(a(5670),a(1539)),n=a(2742),r=a(3102),d=a(6507),g=s([l]);l=(g.then?(await g)():g)[0];const u=()=>{console.log("--clicked log out--"),alert("Log out")},h=s=>{const[e,a]=(0,t.useState)(!1),[o,c]=(0,t.useState)(!1),[g,h]=(0,t.useState)(!1),[m,S]=(0,t.useState)(0),[x,p]=(0,t.useState)(!1),[f,b]=(0,t.useState)(!1),[w,I]=(0,t.useState)(!1),[j,v]=(0,t.useState)(!1),[E,_]=(0,t.useState)(!1),[A,R]=(0,t.useState)([]),[k,L]=(0,t.useState)(""),[y,T]=(0,t.useState)(null);let V="/";const C=()=>{document.querySelector("#idHeader").classList.remove("card-margin-header"),document.querySelector("#idMenu").classList.remove("card-margin-menu"),document.querySelector("#idLogoSm").classList.remove("card-margin-logo-sm"),document.querySelector("#idLogo").classList.remove("card-margin-logo")},O=()=>"subscribed"==window.PushAlertCo.getSubsInfo().status||null!=localStorage.getItem("notif-shown")&&"true"==localStorage.getItem("notif-shown"),D=()=>{null==localStorage.getItem("notif-shown")&&localStorage.setItem("notif-shown","true")},H=s=>{console.log("cb-",s.subscriber_id),console.log("cb-",s.alreadySubscribed),null==localStorage.getItem("subscribed")?((0,l.default)(),C(),b(!0),p(!1),setTimeout((()=>{I(!0)}),3700),(0,n.u)(y.storeId,r.C.DEALS_CLAIMED),localStorage.setItem("subscribed","true")):(p(!1),C())},M=()=>{null==localStorage.getItem("subscribed")||"true"!=localStorage.getItem("subscribed")?["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document?(console.log("isNotificationShown: ",O()),O()?D():(document.querySelector("#idHeader").classList.add("card-margin-header"),document.querySelector("#idMenu").classList.add("card-margin-menu"),document.querySelector("#idLogoSm").classList.add("card-margin-logo-sm"),document.querySelector("#idLogo").classList.add("card-margin-logo"),p(!0),localStorage.setItem("notif-shown","true"))):D():(p(!1),C()),window.pushalertbyiw&&window.pushalertbyiw.push(["onSuccess",H])};(0,t.useEffect)((()=>{var s;a(!0);let e={swirlyojpnagar:{storeId:"9",placeId:""},kidsaurajpnagar:{storeId:"13",placeId:"ChIJjSGVUwAVrjsRKuLMxFv9BYE"}}[null===(s=window)||void 0===s?void 0:s.location.pathname.split("/")[2]];T(e),V=window.location.href,V&&V.indexOf("/app/shop/")>=0?c(!0):((s=>{let e=window.location.href,a="",o="";"undefined"!==typeof e&&-1!=e.indexOf("/app/")?(o=e.substring(e.indexOf("/app/")+5,e.length),o.indexOf("?")>=0&&(o=o.substring(0,o.indexOf("?"))),L(o),a="../../app/blr/".concat(o,"/images/logo.png")):a="../../app/blr/swirlyojpnagar/images/logo.png",a.indexOf("/from=qr")>=0?((0,n.u)(s,r.C.QR_VISITS),(0,n.u)(s,r.C.STORE_BROWSE),a=a.replace("/from=qr","")):((0,n.u)(s,r.C.REPEAT_VISITS),(0,n.u)(s,r.C.STORE_BROWSE)),console.log("--logosrc--",j),v(a)})(e.storeId),(s=>{i().get("/user/st-cashback/".concat(localStorage.getItem("nanoId"),"/").concat(s.storeId)).then((function(s){console.log("--user cashback data-----",s.data.cashBackValue),null!=s.data&&s.data.cashBackValue>0&&(h(!0),S(s.data.cashBackValue),localStorage.setItem("cashback-value",s.data.cashBackValue))}))})(e),M())}),[]),console.log("--props.locationHref--",s.locationHref),e&&(V=window.location.href,V.indexOf("?")>=0&&(V=window.location.href.substring(0,window.location.href.indexOf("?"))));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{id:"idHeader",className:"".concat(!o&&g?"top-margin":""," header"),children:[!o&&g&&(0,d.jsxs)("span",{className:"announcement",children:["\ud83c\udf89 You're eligible for instant cashback of \u20b9",m,". Shop now to redeem!"]}),!o&&(0,d.jsxs)("svg",{id:"idMenu",onClick:s.showSideBar,className:"".concat(!o&&g?"top-margin":""," menu-bar text-indigo-600"),width:"41",height:"41",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:["                ",(0,d.jsx)("rect",{width:"56",height:"56",rx:"16",fill:"#b9b9b9"}),"                ",(0,d.jsx)("path",{d:"M37 32H19M37 24H19",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),"              "]}),!o&&(0,d.jsx)("img",{id:"idLogoSm",onClick:()=>window.location.href=V,className:"".concat(!o&&g?"top-margin-sm":""," store-logo-sm"),src:j}),(0,d.jsx)("img",{id:"idLogo",class:"".concat(!o&&g?"top-margin":"",o?" store-logo-shop":" store-logo"),src:"../../assets/images/sflogo.png"}),s.loggedOut&&!o&&(0,d.jsx)("span",{id:"logout",className:"logout",onClick:u,children:"Logout"})]}),x&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{class:"notif-card-box-th notif-card-box-th-1",style:{backgroundCcolor:"#fff!important"},children:[(0,d.jsx)("div",{class:"notif-card-icon-container",children:(0,d.jsx)("img",{src:"../../assets/images/dealcard.png",style:{width:"140px"}})}),(0,d.jsxs)("div",{class:"notif-card-msg-box-container",children:[(0,d.jsx)("div",{class:"notif-card-title-txt-container",children:(0,d.jsx)("p",{class:"notif-card-title-txt",style:{color:"#333!important"},children:"Unlock special offer"})}),(0,d.jsx)("div",{class:"notif-card-msg-txt-container",children:(0,d.jsxs)("p",{class:"notif-card-msg-txt",style:{color:"#777!important"},children:["Add this app to your home screen to continue. Tap Share",(0,d.jsx)("svg",{class:"notif-card-ic",viewBox:"0 0 512 512",children:(0,d.jsx)("path",{d:"M396.545 154.249h-51.039a18.7 18.7 0 1 0 0 37.401h51.052a18.723 18.723 0 0 1 18.7 18.7v244.55a18.723 18.723 0 0 1-18.7 18.7H115.443a18.723 18.723 0 0 1-18.7-18.7V210.35a18.723 18.723 0 0 1 18.7-18.7h51.052a18.7 18.7 0 0 0 0-37.401h-51.052a56.169 56.169 0 0 0-56.101 56.101v244.55A56.169 56.169 0 0 0 115.443 511h281.115a56.169 56.169 0 0 0 56.101-56.101V210.35a56.172 56.172 0 0 0-56.113-56.101zm-210.278-37.75l51.65-51.65v246.195a18.7 18.7 0 1 0 37.401 0V64.849l51.65 51.65a18.702 18.702 0 0 0 26.455-26.442L269.857 6.479a18.706 18.706 0 0 0-26.455 0l-83.578 83.578a18.697 18.697 0 0 0 26.442 26.442z"})}),"and then ",(0,d.jsx)("p",{style:{display:"inline"},children:"Add to Home Screen"}),(0,d.jsxs)("svg",{class:"notif-card-ic",viewBox:"0 0 512 512",children:[(0,d.jsx)("path",{d:"M384 42.667A85.419 85.419 0 0 1 469.333 128v256A85.419 85.419 0 0 1 384 469.333H128A85.419 85.419 0 0 1 42.667 384V128A85.419 85.419 0 0 1 128 42.667zM384 0H128A127.992 127.992 0 0 0 0 128v256a127.992 127.992 0 0 0 128 128h256a127.992 127.992 0 0 0 128-128V128A127.992 127.992 0 0 0 384 0zM256 384a21.327 21.327 0 0 1-21.333-21.333V149.333a21.334 21.334 0 1 1 42.667 0v213.333A21.327 21.327 0 0 1 256 384z"}),(0,d.jsx)("path",{d:"M128 256a21.327 21.327 0 0 1 21.333-21.333h213.333a21.333 21.333 0 0 1 0 42.667H149.333A21.327 21.327 0 0 1 128 256z"})]})]})})]})]}),(0,d.jsx)("div",{}),(0,d.jsx)("div",{class:"card-modal"})]}),f&&(0,d.jsxs)("div",{class:"holder",children:[(0,d.jsx)("div",{class:"scard-bg bounce-3"}),(0,d.jsxs)("div",{class:"scard bounce-3",children:[(0,d.jsx)("img",{class:"sslogo",src:"../../assets/images/slogos.png"}),(0,d.jsx)("div",{class:"cashback-type",children:"Upto 360/- OFF"}),(0,d.jsx)("div",{class:"card__elig",children:"*Eligible online & in-store across all partner stores in"}),(0,d.jsx)("img",{class:"card__elig_loc",src:"../../assets/images/sblr.png"}),(0,d.jsx)("img",{class:"card__elig_loc_logo",src:"../../assets/images/sloc_blr.png"}),(0,d.jsx)("div",{class:"card__text"}),(0,d.jsx)("div",{class:"ssbox left-skew"}),(0,d.jsx)("div",{class:"cashback-value",children:"\u20b990 collected"})]})]}),w&&(0,d.jsx)("div",{class:"holder",children:(0,d.jsxs)("div",{class:"scard-mini",children:[(0,d.jsx)("img",{class:"sslogo",src:"../../assets/images/slogos.png"}),(0,d.jsx)("span",{class:"scard-mini-text",children:"Share to earn upto \u20b9360/-"}),(0,d.jsx)("div",{id:"webcrumbs",class:"mini-share-ic",children:(0,d.jsx)("i",{class:"fa-brands fa-whatsapp text-xl",style:{fontSize:"34px",color:"#22c55d"}})}),(0,d.jsx)("div",{class:"card__text"}),(0,d.jsx)("div",{class:"ssbox left-skew"}),(0,d.jsx)("div",{class:"scard-mini-cashback",children:"\u20b990 collected"})]})})]})};o()}catch(u){o(u)}}))},5088:()=>{},5670:(s,e,a)=>{a.d(e,{Ak:()=>o});let o=function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,e="",a=crypto.getRandomValues(new Uint8Array(s|=0));for(;s--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&a[s]];return e}}}]);
//# sourceMappingURL=335.427aa8e9.chunk.js.map