"use strict";(self.webpackChunkssr_client=self.webpackChunkssr_client||[]).push([[247],{3247:(e,s,t)=>{t.r(s),t.d(s,{default:()=>p});var a=t(9643),i=t(7214),l=t.n(i),n=t(6507);const o=e=>{let{searchPlaces:s}=e;return(0,a.useEffect)((()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition((e=>{console.log("GLatitude:",e.coords.latitude),console.log("GLongitude:",e.coords.longitude),document.getElementById("locMsg").style.display="none",window.selectedLat=e.coords.latitude,window.selectedLong=e.coords.longitude,s("fashion",window.placeQuery)}),(e=>{console.error("Error getting location:",e.message)}),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):console.error("Geolocation is not supported by this browser.")}),[]),(0,n.jsx)("div",{id:"locMsg",className:"loc-msg",children:(0,n.jsx)("p",{style:{marginBottom:"0px"},children:"Requesting location access (optional)..."})})},c=e=>{let{showView:s,product:t,slideRight:i,onBackClick:l,reviews:o,viralDeals:c}=e;console.log("--product on display--",t),console.log("--reviews--",o);const[r,d]=(0,a.useState)(!0),[h,m]=(0,a.useState)(!1);return(0,n.jsx)("div",{id:"webcrumbs",className:"box ".concat(i?"slide-right":""),style:{display:s?"block":"none"},children:(0,n.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[(0,n.jsxs)("header",{className:"sticky top-0 z-50 bg-white shadow-md p-4 flex justify-between items-center",children:[(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)("img",{className:"modal-left-arrow",src:"../../assets/images/left-arrow.png",onClick:l})}),(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsxs)("p",{className:"text-sm md:text-base",children:["Share this page with a friend to earn",(0,n.jsx)("a",{href:"#",className:"text-[#f81134] font-medium hover:underline ml-1",children:"viral cashback"})]})}),(0,n.jsx)("div",{children:(0,n.jsx)("a",{href:(e=>{let s="";return s=null!=e&&o.length>0?"https://wa.me/?text="+encodeURIComponent("I had a great experience visiting "+e.name+". They're known for "+o.join(","))+". Please use this link to check them out.. They've some great deals running - "+encodeURIComponent("https://www.quikrush.com/app/store/"+e.place_id):"https://wa.me/?text=",s})(t),className:"bg-green-500 text-white p-2 rounded-full flex items-center justify-center hover:bg-green-600 transition-all w-10 h-10",children:(0,n.jsx)("i",{className:"fa-brands fa-whatsapp text-xl"})})})]}),(0,n.jsx)("main",{className:"flex-1 p-4 md:p-6 lg:p-8",children:(0,n.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 max-w-7xl mx-auto",children:[(0,n.jsxs)("div",{className:"w-full md:w-1/2",style:{marginTop:"2px"},children:[(0,n.jsx)("span",{class:"store-title",children:t&&t.name}),(0,n.jsx)("div",{style:{marginTop:"12px",height:"200px"},className:"bg-white shadow-lg rounded-xl overflow-hidden h-[400px] md:h-[500px]",children:(0,n.jsx)("iframe",{src:"https://www.google.com/maps?key=AIzaSyA38gnkeYsgyTgs4vAXt2r10Vlgg1R2-ec&q=".concat(t&&t.geometry.location.lat,",").concat(t&&t.geometry.location.lng,"&z=15&output=embed"),className:"w-full h-full border-0",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Google Maps",allowFullScreen:!0,keywords:"map, location, store location, google maps"})})]}),(0,n.jsx)("div",{className:"w-full md:w-1/2",children:(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("div",{className:"flex border-b",children:(0,n.jsx)("button",{style:{display:"none",width:"100%"},className:"px-4 py-3 border-b-2 border-transparent hover:text-gray-700 flex-1 transition-colors",children:"Shop Now"})}),r&&(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("h2",{className:"text-xl font-bold mb-4",style:{marginBottom:"-8px"},children:"What's the rush about?"}),(0,n.jsx)("p",{className:"text-gray-700 mb-4",style:{maxWidth:"100%",display:"inline-block",overflowX:"scroll",height:"33px",paddingTop:"5px"},children:o.map((e=>(0,n.jsx)("div",{class:"tag",children:e})))})]}),c.length>0&&(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{class:"pulse-container",children:(0,n.jsx)("div",{class:"pulse-box",children:(0,n.jsx)("div",{class:"pulse-css",children:(0,n.jsx)("svg",{style:{marginLeft:"3px",marginTop:"0px"},fill:"#fff",width:"24px",height:"24px",version:"1.1",id:"Capa_1",viewBox:"0 0 30 30",children:(0,n.jsx)("g",{children:(0,n.jsx)("path",{d:"M11.001,30l2.707-16.334H5L11.458,0l9.25,0.123L16.667,8H25L11.001,30z"})})})})})}),(0,n.jsx)("h2",{className:"text-xl font-bold mb-4",style:{marginBottom:"-8px",marginTop:"8px"},children:"Viral Deals for you"})]}),(0,n.jsx)("div",{className:"p-5 ticket-card",style:{padding:"12px",marginBottom:"50px"},children:(0,n.jsx)("p",{className:"text-gray-700 mb-4 ticket-c",children:c.map((e=>(0,n.jsxs)("div",{class:"ticket3",children:[(0,n.jsx)("div",{class:"ticket3__details",children:(0,n.jsx)("h3",{class:"ticket3__title",children:e.title})}),(0,n.jsx)("div",{class:"ticket3__rip"}),(0,n.jsxs)("div",{class:"ticket3__price",children:[(0,n.jsx)("span",{class:"heading",children:"Cashback upto"}),(0,n.jsxs)("span",{class:"price",children:["\u20b9",e.max_cashback_value]})]})]})))})})]})})]})})]})})},r=e=>{let{product:s,index:t,onDetailClick:a}=e;return"OPERATIONAL"!==s.business_status||s.photos&&0==s.photos.length||"undefined"===typeof s.photos?null:(0,n.jsxs)("div",{className:"card shop-card",onClick:a,children:[(0,n.jsx)("img",{src:"https://maps.googleapis.com/maps/api/place/photo?maxwidth=400\n            &photo_reference=".concat(s.photos[0].photo_reference.replace(/[\n\r\t]/g,"").replace(/\s{2,}/g,"").replace(/&amp;/g,"&").replace(/"/g,"").trim(),"&key=AIzaSyA38gnkeYsgyTgs4vAXt2r10Vlgg1R2-ec"),alt:s.name}),(0,n.jsxs)("div",{className:"card-content",children:[(0,n.jsx)("div",{className:"highlights",children:s.name}),(0,n.jsx)("div",{className:"description shop-description",children:s.formatted_address}),(0,n.jsxs)("div",{className:"price",children:[(0,n.jsxs)("div",{className:"shop-price-current",children:[s.rating,"\u2b50"]}),(0,n.jsxs)("div",{className:"shop-price-original",children:["(",s.user_ratings_total,")"]})]})]})]},t)},d=e=>{let{products:s,storeConfig:t}=e;const[i,o]=(0,a.useState)(null),[d,h]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1),[x,g]=(0,a.useState)(null),[u,v]=(0,a.useState)(!0),[j,w]=(0,a.useState)([]),[f,b]=(0,a.useState)([]),[y,k]=(0,a.useState)(!1);(0,a.useEffect)((()=>{h(!0),l().get("/store/web-order/".concat(localStorage.getItem("onlineOrderId"))).then((function(e){console.log("--web order data-----",e.data)}))}),[]);const S=e=>{var s;console.log("--onDetailClick--",e),window.scrollTo(0,0),g(e),p(!0),s=e.place_id,l().get("/shops/place/".concat(s)).then((function(e){if(console.log("--place data-----",e.data),null!=e.data){let s=e.data.split(",");w(s)}})),(e=>{l().get("/shops/deals/".concat(e)).then((function(e){if(console.log("--deals data-----",e.data),null!=e.data&&"error"!=e.data){let s=e.data.viralDeals;window.shopOnlineUrl=e.data.appUrl,b(s)}}))})(e.place_id),setTimeout((()=>{k(!0)}),200),setTimeout((()=>{v(!1)}),400)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"product-list shop-product-list",style:{display:u?"grid":"none"},children:s.map(((e,s)=>(0,n.jsx)(r,{product:e,index:s,onDetailClick:()=>S(e)})))}),(0,n.jsx)(c,{showView:m,product:x,slideRight:y,onBackClick:()=>{v(!0),setTimeout((()=>{k(!1),p(!1)}),200)},reviews:j,viralDeals:f}),f.length>0&&(0,n.jsx)("div",{class:"w-full md:w-1/2 p-8 sticky-btn",children:(0,n.jsxs)("div",{class:"flex flex-wrap ml-auto md:w-56 -m-2",children:[(0,n.jsxs)("div",{class:"w-full p-2",children:["            ",(0,n.jsx)("button",{onClick:()=>{window.location.href=window.shopOnlineUrl},class:"btn-shop-online py-4 px-6 w-full font-medium rounded-xl shadow-6xl focus:ring focus:ring-gray-300 bg-white hover:bg-gray-100 transition ease-in-out duration-200",style:{background:"#f81134",color:"#fff",fontSize:"1rem"},type:"button",onclick:"window.location.href='/app/kidsaurajpnagar/'",children:"Shop Online"}),"          "]}),(0,n.jsx)("div",{class:"w-full p-2"})]})})]})},h=e=>{const[s,t]=(0,a.useState)({}),[i,l]=(0,a.useState)(!1);(0,a.useEffect)((()=>{l(!0),c(0,"categories")}),[]);const o=((e,s)=>{const t=[];let a=e;for(;a&&"object"===typeof a;){const e=Object.keys(a);t.push({data:a,keys:e});const i=s[t.length-1];if(!i||!a[i])break;a=a[i]}return t})(e,Object.values(s)),c=(e,s)=>{if(i&&(document.getElementById("sub-tabs").style.display="inline-block"),"categories"!==s&&(console.log("--levelIndex--",e),i)){if(window.filterStr=window.filterStr+","+s,e<window.filterStr.split(",").length){let t=window.filterStr.split(",");t.splice(e-1,0,s),t.length=e,window.filterStr=t.toString()}console.log("--filterStr--",window.filterStr),window.onFilter(s,window.filterStr)}t((t=>{const a={...t};return a[e]=s,Object.keys(a).filter((s=>parseInt(s)>e)).forEach((e=>delete a[e])),a}))};return(0,n.jsx)("div",{children:o.map(((e,t)=>t>0?(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"tabs",children:e.keys.map((e=>e.match(/^\d+$/)?null:(0,n.jsx)("div",{className:"tab ".concat(s[t]===e?"active":""),onClick:()=>c(t,e),children:e},e)))})},t):(0,n.jsx)("div",{})))})},m=()=>(0,n.jsxs)("div",{className:"loading-screen",children:[(0,n.jsx)("div",{className:"shimmer",children:(0,n.jsxs)("div",{class:"wrapper",children:[(0,n.jsx)("div",{class:"animate image-card"}),(0,n.jsx)("div",{class:"animate stroke title"}),(0,n.jsx)("div",{class:"animate stroke link"}),(0,n.jsx)("div",{class:"animate stroke description"})]})}),(0,n.jsx)("div",{class:"shimmer",children:(0,n.jsxs)("div",{class:"wrapper",children:[(0,n.jsx)("div",{class:"animate image-card"}),(0,n.jsx)("div",{class:"animate stroke title"}),(0,n.jsx)("div",{class:"animate stroke link"}),(0,n.jsx)("div",{class:"animate stroke description"})]})}),(0,n.jsx)("div",{class:"shimmer",children:(0,n.jsxs)("div",{class:"wrapper",children:[(0,n.jsx)("div",{class:"animate image-card"}),(0,n.jsx)("div",{class:"animate stroke title"}),(0,n.jsx)("div",{class:"animate stroke link"}),(0,n.jsx)("div",{class:"animate stroke description"})]})}),(0,n.jsx)("div",{class:"shimmer",children:(0,n.jsxs)("div",{class:"wrapper",children:[(0,n.jsx)("div",{class:"animate image-card"}),(0,n.jsx)("div",{class:"animate stroke title"}),(0,n.jsx)("div",{class:"animate stroke link"}),(0,n.jsx)("div",{class:"animate stroke description"})]})}),(0,n.jsx)("div",{class:"shimmer",children:(0,n.jsxs)("div",{class:"wrapper",children:[(0,n.jsx)("div",{class:"animate image-card"}),(0,n.jsx)("div",{class:"animate stroke title"}),(0,n.jsx)("div",{class:"animate stroke link"}),(0,n.jsx)("div",{class:"animate stroke description"})]})})]}),p=e=>{let{url:s,storeConfig:t}=e;const[i,c]=(0,a.useState)(""),[r,p]=(0,a.useState)([]),[x,g]=(0,a.useState)([]),[u,v]=(0,a.useState)({}),[j,w]=(0,a.useState)(0),[f,b]=(0,a.useState)(!1),[y,k]=(0,a.useState)(!1);let S={tabFashion:{Menswear:{1:[]},Womenswear:{1:[]},Kidswear:{girls:{"1-to-6":{jumpsuits:0,dresses:0,skirts:0,tops:0},"6-to-14":{jackets:0,dresses:0}},boys:{"1-to-6":{denims:0,shirts:0},"6-to-14":{shoes:0}}}},tabEssentials:{furniture:{1:[]},"home decor":{1:[]},Linen:{1:[]}},tabCafes:{"cafe only":[],"food and cafe":[],"cafe and restaurant":[]},tabKids:{toys:[],stationary:[],classes:[]},tabSaloons:{"mens saloon":[],"womens saloon":[],"unisex saloon":[]}};(0,a.useEffect)((()=>{k(!0),v(S.tabFashion)}),[]),console.log("--store c1111--",t);const N=(e,s)=>{w(j+1),document.getElementById("tabFashion").classList.remove("active"),document.getElementById("tabEssentials").classList.remove("active"),document.getElementById("tabCafes").classList.remove("active"),document.getElementById("tabKids").classList.remove("active"),document.getElementById("tabSaloons").classList.remove("active"),document.getElementById(s).classList.add("active"),document.getElementById("sub-tabs").style.display="inline-block";const t=document.getElementById("sub-tabs");if(t){t.querySelectorAll(".active").forEach((e=>e.classList.remove("active")))}console.log("categoriesList[tabId]: ",S[s]),v(S[s]),C(s.replace("tab",""),window.placeQuery)};r.length,y&&(window.onFilter=(e,s)=>{console.log("-selected-",e),window.selectedCatId=e,C(e,window.placeQuery),console.log("-filters-"+s+"-");let t=s;const a=x.filter((e=>e.highlights.trim().indexOf(t.trim())>=0));console.log("--newArr--",a),p(a)});const C=(e,s)=>{b(!0),l().get("/shops/search/".concat(""!=e?e:"undefined","/").concat(""!=s?encodeURI(s):"undefined","/").concat(window.selectedLat,"/").concat(window.selectedLong)).then((function(e){const s=e.data;p(s.results),b(!1)}))};return(0,n.jsxs)("div",{className:"main",children:[(0,n.jsx)(o,{searchPlaces:C}),(0,n.jsxs)("div",{class:"container",children:[(0,n.jsx)("h1",{style:{marginLeft:"16px",display:"none"},children:"Shops near you:"}),(0,n.jsxs)("div",{class:"shop-search-c",children:[(0,n.jsx)("input",{type:"text",placeholder:"Search stores by locality",onKeyUp:e=>{if("Enter"===e.key){const s=e.target.value;window.placeQuery=s;let t="fashion";null==window.selectedCatId&&(window.selectedCatId=t),C(window.selectedCatId,s)}}}),(0,n.jsx)("img",{src:"../../assets/images/magnifying.png"})]}),(0,n.jsxs)("div",{class:"tabs-container shop",children:[(0,n.jsxs)("div",{class:"tabs",id:"main-tabs",children:[(0,n.jsx)("div",{id:"tabFashion",class:"tab active",onClick:()=>N(0,"tabFashion"),children:"Fashion"}),(0,n.jsx)("div",{id:"tabEssentials",class:"tab",onClick:()=>N(0,"tabEssentials"),children:"Essentials"}),(0,n.jsx)("div",{id:"tabCafes",class:"tab",onClick:()=>N(0,"tabCafes"),children:"Cafes"}),(0,n.jsx)("div",{id:"tabKids",class:"tab",onClick:()=>N(0,"tabKids"),children:"Kids"}),(0,n.jsx)("div",{id:"tabSaloons",class:"tab",onClick:()=>N(0,"tabSaloons"),children:"Saloons"})]}),(0,n.jsx)("div",{class:"sub-tabs",id:"sub-tabs",style:{marginBottom:"0",marginTop:"-16px"},children:j>=0&&(0,n.jsx)(h,{categories:u})})]}),!f&&(0,n.jsx)(d,{products:r,storeConfig:t}),f&&(0,n.jsx)(m,{})]})]})}}}]);
//# sourceMappingURL=247.6b6d25ab.chunk.js.map