"use strict";(self.webpackChunkssr_client=self.webpackChunkssr_client||[]).push([[247],{3247:(s,e,t)=>{t.r(e),t.d(e,{default:()=>m});var a=t(9643),i=t(7214),n=t.n(i),l=t(6507);const c=s=>{let{product:e,index:t}=s;return"OPERATIONAL"!==e.business_status||e.photos&&0==e.photos.length||"undefined"===typeof e.photos?null:(0,l.jsxs)("div",{className:"card shop-card",children:[(0,l.jsx)("img",{src:"https://maps.googleapis.com/maps/api/place/photo?maxwidth=400\n            &photo_reference=".concat(e.photos[0].photo_reference.replace(/[\n\r\t]/g,"").replace(/\s{2,}/g,"").replace(/&amp;/g,"&").replace(/"/g,"").trim(),"&key=AIzaSyA38gnkeYsgyTgs4vAXt2r10Vlgg1R2-ec"),alt:e.name}),(0,l.jsxs)("div",{className:"card-content",children:[(0,l.jsx)("div",{className:"highlights",children:e.name}),(0,l.jsx)("div",{className:"description",children:e.formatted_address}),(0,l.jsxs)("div",{className:"price",children:[(0,l.jsx)("div",{className:"price-current",children:"\u20b9product.price"}),(0,l.jsx)("div",{className:"price-original",children:"\u20b9originalPrice"})]})]})]},t)},o=s=>{let{products:e,storeConfig:t}=s;const[i,o]=(0,a.useState)(null),[r,d]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{d(!0),n().get("/store/web-order/".concat(localStorage.getItem("onlineOrderId"))).then((function(s){console.log("--web order data-----",s.data)}))}),[]),(0,l.jsx)("div",{className:"product-list shop-product-list",children:e.map(((s,e)=>(0,l.jsx)(c,{product:s,index:e})))})},r=s=>{const[e,t]=(0,a.useState)({}),[i,n]=(0,a.useState)(!1);(0,a.useEffect)((()=>{n(!0),o(0,"categories")}),[]);const c=((s,e)=>{const t=[];let a=s;for(;a&&"object"===typeof a;){const s=Object.keys(a);t.push({data:a,keys:s});const i=e[t.length-1];if(!i||!a[i])break;a=a[i]}return t})(s,Object.values(e)),o=(s,e)=>{if(i&&(document.getElementById("sub-tabs").style.display="inline-block"),"categories"!==e&&(console.log("--levelIndex--",s),i)){if(window.filterStr=window.filterStr+","+e,s<window.filterStr.split(",").length){let t=window.filterStr.split(",");t.splice(s-1,0,e),t.length=s,window.filterStr=t.toString()}console.log("--filterStr--",window.filterStr),window.onFilter(e,window.filterStr)}t((t=>{const a={...t};return a[s]=e,Object.keys(a).filter((e=>parseInt(e)>s)).forEach((s=>delete a[s])),a}))};return(0,l.jsx)("div",{children:c.map(((s,t)=>t>0?(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"tabs",children:s.keys.map((s=>s.match(/^\d+$/)?null:(0,l.jsx)("div",{className:"tab ".concat(e[t]===s?"active":""),onClick:()=>o(t,s),children:s},s)))})},t):(0,l.jsx)("div",{})))})},d=()=>(0,l.jsxs)("div",{className:"loading-screen",children:[(0,l.jsx)("div",{className:"shimmer",children:(0,l.jsxs)("div",{class:"wrapper",children:[(0,l.jsx)("div",{class:"animate image-card"}),(0,l.jsx)("div",{class:"animate stroke title"}),(0,l.jsx)("div",{class:"animate stroke link"}),(0,l.jsx)("div",{class:"animate stroke description"})]})}),(0,l.jsx)("div",{class:"shimmer",children:(0,l.jsxs)("div",{class:"wrapper",children:[(0,l.jsx)("div",{class:"animate image-card"}),(0,l.jsx)("div",{class:"animate stroke title"}),(0,l.jsx)("div",{class:"animate stroke link"}),(0,l.jsx)("div",{class:"animate stroke description"})]})}),(0,l.jsx)("div",{class:"shimmer",children:(0,l.jsxs)("div",{class:"wrapper",children:[(0,l.jsx)("div",{class:"animate image-card"}),(0,l.jsx)("div",{class:"animate stroke title"}),(0,l.jsx)("div",{class:"animate stroke link"}),(0,l.jsx)("div",{class:"animate stroke description"})]})}),(0,l.jsx)("div",{class:"shimmer",children:(0,l.jsxs)("div",{class:"wrapper",children:[(0,l.jsx)("div",{class:"animate image-card"}),(0,l.jsx)("div",{class:"animate stroke title"}),(0,l.jsx)("div",{class:"animate stroke link"}),(0,l.jsx)("div",{class:"animate stroke description"})]})}),(0,l.jsx)("div",{class:"shimmer",children:(0,l.jsxs)("div",{class:"wrapper",children:[(0,l.jsx)("div",{class:"animate image-card"}),(0,l.jsx)("div",{class:"animate stroke title"}),(0,l.jsx)("div",{class:"animate stroke link"}),(0,l.jsx)("div",{class:"animate stroke description"})]})})]}),m=s=>{let{url:e,storeConfig:t}=s;const[i,c]=(0,a.useState)(""),[m,h]=(0,a.useState)([]),[p,v]=(0,a.useState)([]),[u,x]=(0,a.useState)({}),[j,g]=(0,a.useState)(0),[b,f]=(0,a.useState)(!1),[w,k]=(0,a.useState)(!1);let y={tabFashion:{Menswear:{1:[]},Womenswear:{1:[]},Kidswear:{girls:{"1-to-6":{jumpsuits:0,dresses:0,skirts:0,tops:0},"6-to-14":{jackets:0,dresses:0}},boys:{"1-to-6":{denims:0,shirts:0},"6-to-14":{shoes:0}}}},tabEssentials:{furniture:{1:[]},"home decor":{1:[]},Linen:{1:[]}},tabCafes:{"cafe only":[],"food and cafe":[],"cafe and restaurant":[]},tabKids:{toys:[],stationary:[],classes:[]},tabSaloons:{"mens saloon":[],"womens saloon":[],"unisex saloon":[]}};(0,a.useEffect)((()=>{k(!0),x(y.tabFashion)}),[]),console.log("--store c1111--",t);const S=(s,e)=>{g(j+1),document.getElementById("tabFashion").classList.remove("active"),document.getElementById("tabEssentials").classList.remove("active"),document.getElementById("tabCafes").classList.remove("active"),document.getElementById("tabKids").classList.remove("active"),document.getElementById("tabSaloons").classList.remove("active"),document.getElementById(e).classList.add("active"),document.getElementById("sub-tabs").style.display="inline-block";const t=document.getElementById("sub-tabs");if(t){t.querySelectorAll(".active").forEach((s=>s.classList.remove("active")))}console.log("categoriesList[tabId]: ",y[e]),x(y[e]),E(e.replace("tab",""),window.placeQuery)};m.length,w&&(window.onFilter=(s,e)=>{console.log("-selected-",s),window.selectedCatId=s,E(s,window.placeQuery),console.log("-filters-"+e+"-");let t=e;const a=p.filter((s=>s.highlights.trim().indexOf(t.trim())>=0));console.log("--newArr--",a),h(a)});const E=(s,e)=>{f(!0),n().get("/shops/search/".concat(s,"/").concat(encodeURI(e))).then((function(s){const e=s.data;h(e.results),f(!1)}))};return(0,l.jsx)("div",{className:"main",children:(0,l.jsxs)("div",{class:"container",children:[(0,l.jsx)("h1",{style:{marginLeft:"16px",display:"none"},children:"Shops near you:"}),(0,l.jsxs)("div",{class:"shop-search-c",children:[(0,l.jsx)("input",{type:"text",placeholder:"Search stores by locality",onKeyUp:s=>{if("Enter"===s.key){const e=s.target.value;window.placeQuery=e;let t="fashion";null==window.selectedCatId&&(window.selectedCatId=t),E(window.selectedCatId,e)}}}),(0,l.jsx)("img",{src:"../../assets/images/magnifying.png"})]}),(0,l.jsxs)("div",{class:"tabs-container shop",children:[(0,l.jsxs)("div",{class:"tabs",id:"main-tabs",children:[(0,l.jsx)("div",{id:"tabFashion",class:"tab active",onClick:()=>S(0,"tabFashion"),children:"Fashion"}),(0,l.jsx)("div",{id:"tabEssentials",class:"tab",onClick:()=>S(0,"tabEssentials"),children:"Essentials"}),(0,l.jsx)("div",{id:"tabCafes",class:"tab",onClick:()=>S(0,"tabCafes"),children:"Cafes"}),(0,l.jsx)("div",{id:"tabKids",class:"tab",onClick:()=>S(0,"tabKids"),children:"Kids"}),(0,l.jsx)("div",{id:"tabSaloons",class:"tab",onClick:()=>S(0,"tabSaloons"),children:"Saloons"})]}),(0,l.jsx)("div",{class:"sub-tabs",id:"sub-tabs",style:{marginBottom:"0",marginTop:"-16px"},children:j>=0&&(0,l.jsx)(r,{categories:u})})]}),!b&&(0,l.jsx)(o,{products:m,storeConfig:t}),b&&(0,l.jsx)(d,{})]})})}}}]);
//# sourceMappingURL=247.e0370100.chunk.js.map