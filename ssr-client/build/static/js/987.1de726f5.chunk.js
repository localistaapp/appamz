"use strict";(self.webpackChunkssr_client=self.webpackChunkssr_client||[]).push([[987],{987:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var i=s(9643),a=s(7214),l=s.n(a),n=s(6507);const c=e=>{let{product:t,index:s,basketData:a,setBasketData:l,setTotalPrice:c}=e;const d=Math.round(1.2*t.price),[o,r]=(0,i.useState)(0);document.addEventListener("basket-updated",(function(e){console.log("basket-updated event",e.detail);var t,s=localStorage.getItem("basket");if(t=null==s?new Object:JSON.parse(s),null!=e.detail&&(console.log("e.detail.itemId: ",e.detail.itemId),console.log("e.detail.qty: ",e.detail.qty),e.detail.qty<=0&&null!=t[e.detail.itemId]?(delete t[e.detail.itemId],document.getElementById("checkoutCount").innerHTML=Object.keys(t).length,0==Object.keys(t).length&&(document.getElementById("checkoutHeader").style.display="none")):e.detail.qty>0&&(t[e.detail.itemId]=e.detail)),Object.keys(t).length>=1){document.getElementById("checkoutHeader").style.display="inline",document.getElementById("checkoutCount").innerHTML=Object.keys(t).length,l(t);let e=0,s=750;Object.keys(t).forEach((s=>{e+=t[s].price}));let i=0;null!=localStorage.getItem("cashback-value")&&parseInt(localStorage.getItem("cashback-value"),10)>0&&(i=parseInt(localStorage.getItem("cashback-value"),10)),c(e+s-i),console.log("--basketData--",t)}var i=JSON.stringify(t);localStorage.setItem("basket",i)}));const m=(e,t,s)=>{e>=1?(document.getElementById("checkoutHeader").style.display="block",document.getElementById("checkoutCount").innerHTML=e):0==Object.keys(s).length&&(document.getElementById("checkoutHeader").style.display="none");var i=new CustomEvent("basket-updated",{detail:{name:t.title,price:t.price*e,qty:e,itemId:t.id,itemSrc:t.image_url}});document.dispatchEvent(i)};return(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("img",{src:t.image_url,alt:t.title}),(0,n.jsxs)("div",{className:"card-content",children:[(0,n.jsx)("div",{className:"highlights",children:t.highlights}),(0,n.jsx)("div",{className:"description",children:t.description}),(0,n.jsxs)("div",{className:"price",children:[(0,n.jsxs)("div",{className:"price-current",children:["\u20b9",t.price]}),(0,n.jsxs)("div",{className:"price-original",children:["\u20b9",d]})]}),(0,n.jsxs)("div",{className:"quantity",children:[(0,n.jsx)("a",{className:"quantity__minus",children:(0,n.jsx)("span",{style:{fontSize:"25px",lineHeight:"0px",marginLeft:"2px"},onClick:()=>((e,t)=>{o>=1&&(r(o-1),m(o-1,e,t))})(t,a),children:"-"})}),(0,n.jsx)("input",{name:"quantity",type:"text",className:"quantity__input",value:o}),(0,n.jsx)("a",{className:"quantity__plus",onClick:()=>{((e,t)=>{r(o+1),m(o+1,e,t)})(t,a)},children:(0,n.jsx)("span",{children:"+"})})]})]})]},s)},d=e=>{let{products:t,storeConfig:s}=e;const[a,d]=(0,i.useState)(null),[o,r]=(0,i.useState)(0),[m,p]=(0,i.useState)(1),[h,u]=(0,i.useState)(!1),[x,g]=(0,i.useState)({}),[y,v]=(0,i.useState)([]),[j,k]=(0,i.useState)(!1),[w,f]=(0,i.useState)([]),[b,S]=(0,i.useState)(!1),[N,I]=(0,i.useState)(!1),[E,B]=(0,i.useState)(!1),[O,C]=(0,i.useState)(""),[T,L]=(0,i.useState)(""),[_,A]=(0,i.useState)(!1),[P,M]=(0,i.useState)(0);h&&(window.weekdays=new Array(7),window.weekdays[0]="Sunday",window.weekdays[1]="Monday",window.weekdays[2]="Tuesday",window.weekdays[3]="Wednesday",window.weekdays[4]="Thursday",window.weekdays[5]="Friday",window.weekdays[6]="Saturday"),(0,i.useEffect)((()=>{u(!0);const e=document.getElementById("checkoutBtn"),t=document.getElementById("modal"),i=document.getElementById("closeBtn");if(e.addEventListener("click",(()=>{p(1),t.classList.add("active")})),i.addEventListener("click",(()=>{t.classList.remove("active")})),localStorage.removeItem("basket"),y&&0==y.length){let e=0;try{e=s.storeId}catch(a){console.log("error")}l().get("/store/get-all/".concat(e)).then(function(e){"auth error"!=e.data&&(console.log("--store availability data--",JSON.stringify(e.data)),g(e.data[0].online_orders_timings),k("Y"==e.data[0].accepting_online_orders),v(e.data[0].online_orders_pincodes))}.bind(void 0))}l().get("/store/web-order/".concat(localStorage.getItem("onlineOrderId"))).then((function(e){console.log("--web order data-----",e.data),C(e.data.tracking_link),L(e.data.status)})),null!=localStorage.getItem("cashback-value")&&parseInt(localStorage.getItem("cashback-value"),10)>0&&M(parseInt(localStorage.getItem("cashback-value"),10))}),[]),(0,i.useEffect)((()=>{"undefined"!==typeof O&&O.indexOf("slimcrust.com")>=0&&null!=localStorage.getItem("onlineOrderId")&&"PAYMENT_SUCCESS"!=T&&setInterval((()=>{""!=O&&"PAYMENT_SUCCESS"!=T&&l().get("/store/web-order/".concat(localStorage.getItem("onlineOrderId"))).then((function(e){console.log("--web order data-----",e.data),C(e.data.tracking_link),"PAYMENT_SUCCESS"==e.data.status&&(L("PAYMENT_SUCCESS"),window.location.reload())}))}),5e3)}),[O]);null!=a&&console.log("--Object.keys(basketData).length--",Object.keys(a).length);const D=(e,t,s,i)=>{(async(e,t)=>{try{const s=await fetch("https://www.slimcrust.com/api/my-initiate-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:e,customerDetails:t})}),i=await s.json();if(!i.success)throw new Error(i.message||"Transaction failed");return window.location.href=i.data.instrumentResponse.redirectInfo.url,i}catch(s){throw console.error("Payment initiation failed:",s),s}})(s,{userId:e,mobileNumber:t,orderId:i}).then((e=>{console.log("Transaction initiated:",e)})).catch((e=>{console.error("Error:",e)}))},Y=()=>{let e=localStorage.getItem("onlineOrderName"),t=localStorage.getItem("onlineOrderMobile"),s=localStorage.getItem("onlineOrderPrice"),i=localStorage.getItem("onlineOrderId");D(e,t,s,i)};return(0,n.jsxs)("div",{className:"product-list",children:[(0,n.jsx)("div",{id:"checkoutHeader",children:(0,n.jsxs)("div",{id:"checkoutBtn",className:"card-btn checkout",onClick:()=>{document.getElementById("checkoutModal").style.top="-40px",(void 0).setState({orderSummary:null!=localStorage.getItem("basket")?JSON.parse(localStorage.getItem("basket")):[]})},children:["Checkout\xa0\u2192",(0,n.jsx)("div",{className:""}),(0,n.jsx)("div",{id:"checkoutCount",class:"c-count",children:"0"})]})}),(0,n.jsxs)("div",{className:"modal-overlay",id:"modal",children:[(0,n.jsx)("button",{className:"close-btn",id:"closeBtn",children:"\xd7"}),(0,n.jsxs)("div",{className:"modal-content",children:[(0,n.jsxs)("div",{class:"md-stepper-horizontal orange",style:{marginTop:"8px"},children:[(0,n.jsxs)("div",{id:"step1",class:"md-step",children:[(0,n.jsx)("div",{class:"md-step-circle active",id:"step1Circle",children:(0,n.jsx)("span",{children:"1"})}),(0,n.jsx)("div",{class:"md-step-title",children:"Order Summary"}),(0,n.jsx)("div",{class:"md-step-bar-left"}),(0,n.jsx)("div",{class:"md-step-bar-right"})]}),(0,n.jsxs)("div",{id:"step2",class:"md-step",children:[(0,n.jsx)("div",{class:"md-step-circle",id:"step2Circle",children:(0,n.jsx)("span",{children:"2"})}),(0,n.jsx)("div",{class:"md-step-title",children:"Delivery Schedule"}),(0,n.jsx)("div",{class:"md-step-bar-left"}),(0,n.jsx)("div",{class:"md-step-bar-right"})]}),(0,n.jsxs)("div",{id:"step3",class:"md-step",children:[(0,n.jsx)("div",{class:"md-step-circle",id:"step3Circle",children:(0,n.jsx)("span",{children:"3"})}),(0,n.jsx)("div",{class:"md-step-title",children:"Delivery Details"}),(0,n.jsx)("div",{class:"md-step-bar-left"}),(0,n.jsx)("div",{class:"md-step-bar-right"})]})]}),(0,n.jsxs)("div",{class:"checkout-content",style:{overflowY:"scroll",overflowX:"hidden"},children:[1==m&&null!=a&&Object.keys(a).length>0&&Object.keys(a).map((e=>(0,n.jsxs)("div",{class:"card-container small",style:{padding:"0px 12px",height:"163px",marginTop:"0px"},children:[(0,n.jsx)("div",{class:"section-one",children:(0,n.jsxs)("div",{class:"top",children:[(0,n.jsx)("div",{class:"top-left-mini",children:(0,n.jsx)("img",{id:"primaryImgp0",class:"primary-img rotatable",src:a[e].itemSrc,style:{width:"72px",paddingTop:"0px"}})}),(0,n.jsxs)("div",{class:"top-right-mini",children:[(0,n.jsx)("div",{class:"usp-title",children:(0,n.jsx)("div",{class:"title",style:{marginTop:"-10px"},children:a[e].name})}),(0,n.jsxs)("div",{class:"usp-desc",style:{color:"rgb(101, 101, 101)",marginTop:"48px"},children:["Quantity: (",a[e].qty,")"]})]})]})}),(0,n.jsxs)("div",{class:"section-two small",children:[(0,n.jsx)("div",{class:"pricing",children:(0,n.jsxs)("label",{class:"price",children:[(0,n.jsx)("span",{class:"rupee",style:{marginLeft:"6px"},children:"\u20b9"}),(0,n.jsx)("span",{class:"orig",id:"priceNewp0",children:a[e].price})]})}),(0,n.jsx)("div",{class:"top"})]})]}))),2==m&&(0,n.jsx)("div",{className:"card-container",style:{marginTop:"4px",height:"480px"},children:(0,n.jsxs)("div",{className:"section-one",children:[(0,n.jsx)("div",{className:"top",children:(0,n.jsxs)("div",{className:"top-right",children:[(0,n.jsx)("img",{src:"../../assets/images/shipment.png",className:"delivery-icon",style:{marginTop:"0px",width:"48px"}}),(0,n.jsx)("span",{className:"title-ff",style:{top:"0px",padding:"10px",lineHeight:"22px",width:"210px",left:"11px"},children:"Share your pincode to check delivery options:"})]})}),(0,n.jsx)("div",{className:"top-right step-2",style:{left:"0px",marginTop:"70px"},children:(0,n.jsxs)("div",{className:"usp-title",style:{left:"0",right:"0",margin:"0 auto"},children:[(0,n.jsxs)("div",{className:"usp-title",children:[(0,n.jsx)("input",{id:"dPincode",type:"text",className:"step-input",placeholder:"Your pincode",style:{left:"20px",top:"0px"}}),(0,n.jsx)("input",{type:"button",class:"pincode-btn",value:"Check Options",onClick:()=>{if(h&&y&&y.indexOf(document.getElementById("dPincode").value)>=0){var e=window?window.weekdays[(new Date).getDay()].toLowerCase():"";x.hasOwnProperty(e)&&x[e].length>0?(console.log("--schedule--",x[e]),f(x[e].filter((e=>parseInt(e.substr(0,e.indexOf("pm")))>(()=>{let e=(new Date).getHours();return e>12?e-=12:0===e&&(e=12),e})()))),S(!0),I(!1)):(S(!1),I(!0))}else S(!1),I(!0);document.getElementById("checkoutNextBtn").style.display="block"}})]}),(0,n.jsxs)("div",{className:"delivery-section",style:{top:"124px",paddingTop:"20px",display:"".concat(1==b?"block":"none")},children:[1==j&&(0,n.jsxs)("div",{class:"radios",children:[(0,n.jsx)("input",{type:"radio",style:{width:"30px"},id:"deliverNow",name:"deliveryTime",value:"deliverNow",checked:!0}),(0,n.jsx)("label",{for:"deliverNow",style:{color:"green"},children:"Deliver Now (Delivery in 90 minutes)"}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{type:"radio",id:"deliverSchedule",name:"deliveryTime",value:"deliverSchedule",style:{width:"30px",marginTop:"14px"},selected:!0}),(0,n.jsx)("label",{for:"deliverSchedule",children:"Deliver Later"})]}),1==j&&(0,n.jsx)("div",{className:"deliver-cell",style:{marginTop:"12px",marginLeft:"40px"},children:(0,n.jsx)("span",{children:"Select your time slot for delivery today:"})}),1==j&&(0,n.jsx)("div",{className:"deliver-cell",style:{marginTop:"12px",marginLeft:"30px"},children:(0,n.jsx)("select",{name:"slot",id:"slot",style:{height:"48px",marginLeft:"10px",width:"172px"},className:"slot-dropdown",onChange:e=>{sessionStorage.setItem("deliverySlot",e.target.options[e.target.selectedIndex].text)},children:w&&w.map((e=>(0,n.jsx)("option",{value:e,children:e})))})}),(0,n.jsx)("div",{className:"slot"})]}),j,(0,n.jsxs)("div",{className:"delivery-section msg",style:{top:"123px",display:"".concat(1==N||0==j?"block":"none")},children:[(0,n.jsx)("div",{className:"deliver-cell",style:{marginTop:"12px",marginLeft:"6px"},children:(0,n.jsx)("span",{children:"Sorry! Our store isn't servicing this locality at the moment."})}),(0,n.jsx)("div",{className:"slot"})]}),(0,n.jsx)("br",{})]})})]})}),3==m&&(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"card-container small",style:{position:"absolute",left:"20px",padding:"0px 12px 0px 12px",minHeight:"266px",width:"calc(100% - 64px)",display:"".concat(E?"none":"block")},children:(0,n.jsx)("div",{className:"section-one",children:(0,n.jsx)("div",{className:"top",children:(0,n.jsx)("div",{className:"top-right",style:{width:"90%"},children:(0,n.jsxs)("div",{className:"usp-title",style:{left:"0px",top:"-68px",width:"100%"},children:[(0,n.jsx)("textarea",{id:"dAddress",style:{top:"78px"},className:"checkout-step-input step-input step-textarea",placeholder:"Delivery address (with landmark)"}),(0,n.jsx)("input",{id:"dMobile",type:"text",className:"checkout-step-input step-input",placeholder:"Mobile number",style:{top:"194px",width:"100%"}}),(0,n.jsx)("input",{id:"dName",type:"text",className:"checkout-step-input step-input",placeholder:"Your full name",style:{top:"248px",width:"100%"}})]})})})})}),(0,n.jsx)("div",{className:"card-container small",style:{display:"".concat(E?"block":"none"),padding:"0px 12px 0px 12px",minHeight:"246px"},children:(0,n.jsx)("div",{className:"section-one",children:(0,n.jsxs)("div",{className:"deliver-cell",style:{marginLeft:"6px",fontSize:"17px",paddingBottom:"24px",color:"#2b2b2b",margin:"0 auto",width:"220px",marginTop:"36px",textAlign:"center"},children:[(0,n.jsx)("img",{src:"../../assets/images/tickvo.gif",style:{width:"78px"}}),(0,n.jsx)("span",{className:"order-conf-msg",style:{display:"block"},children:"Thank you for your order! Our agent will notify you once the order is dispatched."})]})})}),(0,n.jsxs)("div",{id:"checkoutBtnStep12",className:"card-btn checkout home-btn",style:{top:"548px",marginTop:"auto",width:"190px",display:"none"},onClick:()=>{window.location.href="/app"},children:["\u2190\xa0Back Home",(0,n.jsx)("div",{className:""})]})]}),P>0&&(0,n.jsxs)("span",{className:"cashback-applied",children:["\ud83c\udf89 Cashback of \u20b9",P," applied!"]}),(0,n.jsxs)("div",{class:"summary-total",children:["Total:  ",(0,n.jsx)("span",{class:"rupee",children:"\u20b9"}),(0,n.jsx)("span",{class:P>0?"txt-strike":"",id:"price",children:o+P}),P>0&&(0,n.jsx)("span",{id:"price",style:{marginLeft:"8px"},children:o}),(0,n.jsx)("div",{style:{fontSize:"13px",marginTop:"5px",marginLeft:"2px"},children:"(incl GST + delivery apprx.)"})]}),(0,n.jsxs)("div",{id:"checkoutNextBtn",class:"card-btn checkout-next",style:{bottom:"120px",marginTop:"auto"},onClick:()=>{if(console.log("--currStep--",m),1==m)M(0),document.getElementById("step1").classList.add("done"),document.getElementById("step1Circle").classList.remove("active"),document.getElementById("step2Circle").classList.add("active"),document.getElementById("checkoutNextBtn").style.display="none",p(2);else if(2==m){document.getElementById("step2").classList.add("done"),document.getElementById("step2Circle").classList.remove("active"),document.getElementById("step3Circle").classList.add("active");let e=document.getElementById("dPincode").value,t="unknown",s="unknown";document.getElementById("deliverNow").checked?t="now":document.getElementById("deliverSchedule").checked&&(t="later",s=document.getElementById("slot").options[document.getElementById("slot").selectedIndex].value),sessionStorage.setItem("delivery-pincode",e),sessionStorage.setItem("delivery-schedule",t),sessionStorage.setItem("delivery-timeslot",s),p(3)}else if(3==m){let s=document.getElementById("dAddress").value;console.log("--delivery add--",s);let i=sessionStorage.getItem("delivery-pincode"),l=sessionStorage.getItem("delivery-schedule"),n=sessionStorage.getItem("delivery-timeslot"),c=document.getElementById("dAddress").value,d=document.getElementById("dMobile").value,r=document.getElementById("dName").value,m=sessionStorage.getItem("storeId");sessionStorage.setItem("dAddress",c),sessionStorage.setItem("dMobile",d),sessionStorage.setItem("dName",r);let h=o,u=JSON.stringify(a);B(!0),u=null!=u?u:"";window.confirm("You will be notified to make payment once the order is dispatched.");var e=new XMLHttpRequest,t="storeId="+m+"&price="+h+"&mobile="+d+"&name="+r+"&slot="+n+"&items="+u+"&pincode="+i+"&schedule="+l+"&address="+c+"&fromUrl="+window.location.href;e.open("POST","/store/web-order",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){console.log("order creation post response:",e.responseText);var t=e.responseText;if(t.indexOf("error")>=0)alert("There was an error creating your order! Please try again.");else if(null!=t){console.log("---order created---",t);var s=JSON.parse(t).onlineOrderId,i=JSON.parse(t).onlineOrderName,a=JSON.parse(t).onlineOrderMobile,l=JSON.parse(t).onlineOrderPrice;localStorage.setItem("onlineOrderId",s),localStorage.setItem("onlineOrderName",i),localStorage.setItem("onlineOrderMobile",a),localStorage.setItem("onlineOrderPrice",l),localStorage.setItem("order-created","true")}}}.bind(void 0),e.send(t),document.getElementById("checkoutNextBtn").style.display="none",document.getElementById("backHomeBtn").style.display="block",document.getElementsByClassName("summary-total")[0].style.display="none",document.getElementById("step3").classList.add("done"),p(3)}else document.getElementById("checkoutNextBtn").style.display="block"},children:["Next\xa0\u2192",(0,n.jsx)("div",{class:""})]}),(0,n.jsxs)("div",{id:"backHomeBtn",class:"card-btn checkout-next",style:{display:"none",width:"180px",margin:"0 auto",left:"0",right:"0"},onClick:()=>window.location.reload(),children:["\u2190 Back Home",(0,n.jsx)("div",{class:""})]})]})]})]}),0==_&&null!=localStorage.getItem("order-created")&&"true"==localStorage.getItem("order-created")&&""!=O&&"null"!=O&&(0,n.jsxs)("div",{className:"card-container notify-card-track",style:{position:"fixed",bottom:"0",left:"0",width:"100%"},children:[(0,n.jsx)("div",{className:"section-one-notify"}),O.indexOf("slimcrust.com")>=0?(0,n.jsxs)("div",{className:"title notify-title-track",children:[(0,n.jsx)("img",{src:"../../assets/images/tickvo.gif",style:{width:"42px"}}),(0,n.jsx)("span",{className:"track-icon-title",children:"Order received!"})]}):(0,n.jsxs)("div",{className:"title notify-title-track",children:[(0,n.jsx)("img",{src:"../../assets/images/trk.gif",style:{width:"42px"}}),(0,n.jsx)("span",{className:"track-icon-title",children:"Track your order"})]}),(0,n.jsx)("div",{className:"section-two",children:(0,n.jsxs)("div",{className:"top",children:[!_&&O.indexOf("slimcrust.com")>=0?(0,n.jsx)("iframe",{className:"track-frame",src:"https://".concat(O),style:{width:"undefined"!==typeof window?window.screen.width-32+"px":"100%",height:"undefined"!==typeof window?window.screen.height-280+"px":"100%"}}):(0,n.jsx)("iframe",{className:"track-frame",src:"https://".concat(O),style:{width:"undefined"!==typeof window?window.screen.width-32+"px":"100%"}}),(0,n.jsx)("br",{}),"PAYMENT_SUCCESS"!=T&&(0,n.jsx)("div",{style:{visibility:"hidden"},className:"pay-card",children:(0,n.jsx)("span",{children:"Your payment is pending. Please pay now to complete your order."})}),"PAYMENT_SUCCESS"!=T&&(0,n.jsx)("span",{style:{visibility:"hidden"},className:"card-btn pay-now card-btn checkout-next",onClick:()=>{Y()},children:"Pay Now"}),"PAYMENT_FAILED"==T&&(0,n.jsx)("div",{className:"pay-card",children:(0,n.jsx)("span",{children:"Your payment FAILED! Please TRY AGAIN to complete your order."})}),"PAYMENT_FAILED"==T&&(0,n.jsx)("span",{style:{visibility:"hidden"},className:"card-btn pay-now card-btn checkout-next",onClick:()=>{Y()},children:"Pay Now"}),"PAYMENT_SUCCESS"==T&&A(!0)&&(0,n.jsx)("div",{className:"pay-card",children:(0,n.jsx)("span",{style:{color:"#407f40"},children:"Your payment is successful! You will recieve a whatsapp notification once your order is dispacthed!"})})]})})]}),"PAYMENT_SUCCESS"==T&&(0,n.jsxs)("div",{className:"card-container notify-card-track",style:{position:"fixed",bottom:"0",left:"0",width:"100%",minHeight:"100px"},children:[(0,n.jsx)("div",{className:"section-one-notify"}),(0,n.jsx)("div",{className:"section-two",style:{marginTop:"27px",paddingLeft:"10px",paddingRight:"32px",fontWeight:"500"},children:(0,n.jsx)("div",{className:"top",children:(0,n.jsx)("span",{style:{color:"#407f40"},children:"Your payment is successful! You will recieve a whatsapp notification once your order is dispacthed!"})})})]}),t.map(((e,t)=>(0,n.jsx)(c,{product:e,index:t,basketData:a,setBasketData:d,setTotalPrice:r})))]})},o=e=>{const[t,s]=(0,i.useState)({}),[a,l]=(0,i.useState)(!1);(0,i.useEffect)((()=>{l(!0),d(0,"categories")}),[]);const c=((e,t)=>{const s=[];let i=e;for(;i&&"object"===typeof i;){const e=Object.keys(i);s.push({data:i,keys:e});const a=t[s.length-1];if(!a||!i[a])break;i=i[a]}return s})(e,Object.values(t)),d=(e,t)=>{if(a&&(document.getElementById("sub-tabs").style.display="inline-block"),"categories"!==t&&(console.log("--levelIndex--",e),a)){if(window.filterStr=window.filterStr+","+t,e<window.filterStr.split(",").length){let s=window.filterStr.split(",");s.splice(e-1,0,t),s.length=e,window.filterStr=s.toString()}console.log("--filterStr--",window.filterStr),window.onFilter(t,window.filterStr)}s((s=>{const i={...s};return i[e]=t,Object.keys(i).filter((t=>parseInt(t)>e)).forEach((e=>delete i[e])),i}))};return(0,n.jsx)("div",{children:c.map(((e,s)=>s>0?(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"tabs",children:e.keys.map((e=>e.match(/^\d+$/)?null:(0,n.jsx)("div",{className:"tab ".concat(t[s]===e?"active":""),onClick:()=>d(s,e),children:e},e)))})},s):(0,n.jsx)("div",{})))})},r=()=>(0,n.jsxs)("div",{className:"loading-screen",children:[(0,n.jsx)("div",{className:"shimmer",children:(0,n.jsxs)("div",{class:"wrapper",children:[(0,n.jsx)("div",{class:"animate image-card"}),(0,n.jsx)("div",{class:"animate stroke title"}),(0,n.jsx)("div",{class:"animate stroke link"}),(0,n.jsx)("div",{class:"animate stroke description"})]})}),(0,n.jsx)("div",{class:"shimmer",children:(0,n.jsxs)("div",{class:"wrapper",children:[(0,n.jsx)("div",{class:"animate image-card"}),(0,n.jsx)("div",{class:"animate stroke title"}),(0,n.jsx)("div",{class:"animate stroke link"}),(0,n.jsx)("div",{class:"animate stroke description"})]})}),(0,n.jsx)("div",{class:"shimmer",children:(0,n.jsxs)("div",{class:"wrapper",children:[(0,n.jsx)("div",{class:"animate image-card"}),(0,n.jsx)("div",{class:"animate stroke title"}),(0,n.jsx)("div",{class:"animate stroke link"}),(0,n.jsx)("div",{class:"animate stroke description"})]})}),(0,n.jsx)("div",{class:"shimmer",children:(0,n.jsxs)("div",{class:"wrapper",children:[(0,n.jsx)("div",{class:"animate image-card"}),(0,n.jsx)("div",{class:"animate stroke title"}),(0,n.jsx)("div",{class:"animate stroke link"}),(0,n.jsx)("div",{class:"animate stroke description"})]})}),(0,n.jsx)("div",{class:"shimmer",children:(0,n.jsxs)("div",{class:"wrapper",children:[(0,n.jsx)("div",{class:"animate image-card"}),(0,n.jsx)("div",{class:"animate stroke title"}),(0,n.jsx)("div",{class:"animate stroke link"}),(0,n.jsx)("div",{class:"animate stroke description"})]})})]}),m=e=>{let{url:t,storeConfig:s}=e;const[a,c]=(0,i.useState)(""),[m,p]=(0,i.useState)([]),[h,u]=(0,i.useState)([]),[x,g]=(0,i.useState)({}),[y,v]=(0,i.useState)(0),[j,k]=(0,i.useState)(!0),[w,f]=(0,i.useState)(!1);(0,i.useEffect)((()=>{f(!0)}),[]),console.log("--store c1111--",s);const b=(e,t)=>{if(v(y+1),document.getElementById("tabDefault").classList.remove("active"),document.getElementById("tabSeasons").classList.remove("active"),document.getElementById("tabArrival").classList.remove("active"),document.getElementById(t).classList.add("active"),"tabDefault"==t){document.getElementById("sub-tabs").style.display="inline-block";const e=document.getElementById("sub-tabs");if(e){e.querySelectorAll(".active").forEach((e=>e.classList.remove("active")))}}else document.getElementById("sub-tabs").style.display="none";let i=0;try{i=s.storeId}catch(a){console.log("error")}l().get("/products/".concat(i,"/").concat(e)).then((function(e){"auth error"!=e.data&&(console.log("--product res--",JSON.stringify(e.data)),k(!1),p(e.data))}))};let S=0;try{S=s.storeId,sessionStorage.setItem("storeId",S)}catch(N){console.log("error")}return 0==m.length&&l().get("/products/".concat(S)).then(function(e){if("auth error"!=e.data){console.log("--product res--",JSON.stringify(e.data)),k(!1),p(e.data),u(e.data);let t=e.data,s={};t.forEach((e=>{const t=e.highlights.split(",").map((e=>e.trim()));let i=s;t.forEach(((e,s)=>{s===t.length-1?i[e]=0:(i[e]||(i[e]={}),i=i[e])}))})),g(s),console.log("tabMap:",s)}}.bind(void 0)),w&&(window.onFilter=(e,t)=>{console.log("-selected-",e),console.log("-filters-"+t+"-");let s=t;const i=h.filter((e=>e.highlights.trim().indexOf(s.trim())>=0));console.log("--newArr--",i),p(i)}),(0,n.jsx)("div",{className:"main",children:(0,n.jsxs)("div",{class:"container",children:[(0,n.jsxs)("div",{class:"tabs-container",children:[(0,n.jsxs)("div",{class:"tabs",id:"main-tabs",children:[(0,n.jsx)("div",{id:"tabDefault",class:"tab active",onClick:()=>b("tags_default","tabDefault"),children:"All"}),(0,n.jsx)("div",{id:"tabSeasons",class:"tab",onClick:()=>b("tags_seasons_special","tabSeasons"),children:"Season's Special"}),(0,n.jsx)("div",{id:"tabArrival",class:"tab",onClick:()=>b("tags_new_arrival","tabArrival"),children:"New Arrivals"})]}),(0,n.jsx)("div",{class:"sub-tabs",id:"sub-tabs",style:{marginBottom:"0",marginTop:"-16px"},children:y>=0&&(0,n.jsx)(o,{categories:x})})]}),!j&&(0,n.jsx)(d,{products:m,storeConfig:s}),j&&(0,n.jsx)(r,{})]})})}}}]);
//# sourceMappingURL=987.1de726f5.chunk.js.map