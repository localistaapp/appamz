"use strict";(self.webpackChunkssr_client=self.webpackChunkssr_client||[]).push([[65],{65:(s,e,t)=>{t.r(e),t.d(e,{default:()=>d});var c=t(643),i=t(214),a=t.n(i),r=t(507);const l=s=>{let{products:e}=s;return(0,r.jsx)("div",{className:"product-list",children:e.map(((s,e)=>{const t=Math.round(1.2*s.price);return(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("img",{src:s.image_url,alt:s.title}),(0,r.jsxs)("div",{className:"card-content",children:[(0,r.jsx)("div",{className:"highlights",children:s.highlights}),(0,r.jsx)("div",{className:"description",children:s.description}),(0,r.jsxs)("div",{className:"price",children:[(0,r.jsxs)("div",{className:"price-current",children:["\u20b9",s.price]}),(0,r.jsxs)("div",{className:"price-original",children:["\u20b9",t]})]})]})]},e)}))})},n=s=>{const[e,t]=(0,c.useState)({});(0,c.useEffect)((()=>{a(0,"categories")}),[]);const i=((s,e)=>{const t=[];let c=s;for(;c&&"object"===typeof c;){const s=Object.keys(c);t.push({data:c,keys:s});const i=e[t.length-1];if(!i||!c[i])break;c=c[i]}return t})(s,Object.values(e)),a=(s,e)=>{"categories"!==e&&(console.log("--levelIndex--",s),window.onFilter(e)),t((t=>{const c={...t};return c[s]=e,Object.keys(c).filter((e=>parseInt(e)>s)).forEach((s=>delete c[s])),c}))};return(0,r.jsx)("div",{children:i.map(((s,t)=>(window.scrollTo(0,55*t),t>0?(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"tabs",children:s.keys.map((s=>s.match(/^\d+$/)?null:(0,r.jsx)("div",{className:"tab ".concat(e[t]===s?"active":""),onClick:()=>a(t,s),children:s},s)))})},t):(0,r.jsx)("div",{}))))})},d=s=>{let{url:e}=s;const[t,i]=(0,c.useState)(""),[d,o]=(0,c.useState)([]),[h,u]=(0,c.useState)({});let p=0;try{p=JSON.parse(window.sessionStorage.getItem("user-profile")).storeId}catch(j){console.log("error")}return 0==d.length&&a().get("/products/".concat(p)).then(function(s){if("auth error"!=s.data){console.log("--product res--",JSON.stringify(s.data)),o(s.data);let e=s.data,t={};e.forEach((s=>{const e=s.highlights.split(",").map((s=>s.trim()));let c=t;e.forEach(((s,t)=>{t===e.length-1?c[s]=0:(c[s]||(c[s]={}),c=c[s])}))})),u(t),console.log("tabMap:",t)}}.bind(void 0)),window.onFilter=s=>{console.log("-selected-",s)},(0,r.jsx)("div",{className:"main",children:(0,r.jsxs)("div",{class:"container",children:[(0,r.jsx)("h1",{style:{marginLeft:"16px"},children:"View Products"}),(0,r.jsxs)("div",{class:"tabs-container",children:[(0,r.jsxs)("div",{class:"tabs",id:"main-tabs",children:[(0,r.jsx)("div",{class:"tab active",children:"All"}),(0,r.jsx)("div",{class:"tab",children:"Season's Special"}),(0,r.jsx)("div",{class:"tab",children:"New Arrivals"})]}),(0,r.jsx)("div",{class:"sub-tabs",id:"sub-tabs",style:{marginBottom:"0",marginTop:"-16px"},children:(0,r.jsx)(n,{categories:h})})]}),(0,r.jsx)(l,{products:d})]})})}}}]);
//# sourceMappingURL=65.a2686ce2.chunk.js.map