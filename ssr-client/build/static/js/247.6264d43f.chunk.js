"use strict";(self.webpackChunkssr_client=self.webpackChunkssr_client||[]).push([[247],{3247:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var a=t(9643),i=t(7214),n=t.n(i),o=t(6507);const c=()=>((0,a.useEffect)((()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition((e=>{console.log("GLatitude:",e.coords.latitude),console.log("GLongitude:",e.coords.longitude),document.getElementById("locMsg").style.display="none",window.selectedLat=e.coords.latitude,window.selectedLong=e.coords.longitude}),(e=>{console.error("Error getting location:",e.message)}),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):console.error("Geolocation is not supported by this browser.")}),[]),(0,o.jsx)("div",{id:"locMsg",className:"loc-msg",children:(0,o.jsx)("p",{style:{marginBottom:"0px"},children:"Requesting location access (optional)..."})})),l=e=>{let{product:s,index:t}=e;return"OPERATIONAL"!==s.business_status||s.photos&&0==s.photos.length||"undefined"===typeof s.photos?null:(0,o.jsxs)("div",{className:"card shop-card",onClick:()=>{window.location.href="/app/shop/place/".concat(s.place_id)},children:[(0,o.jsx)("img",{src:"https://maps.googleapis.com/maps/api/place/photo?maxwidth=400\n            &photo_reference=".concat(s.photos[0].photo_reference.replace(/[\n\r\t]/g,"").replace(/\s{2,}/g,"").replace(/&amp;/g,"&").replace(/"/g,"").trim(),"&key=AIzaSyA38gnkeYsgyTgs4vAXt2r10Vlgg1R2-ec"),alt:s.name}),(0,o.jsxs)("div",{className:"card-content",children:[(0,o.jsx)("div",{className:"highlights",children:s.name}),(0,o.jsx)("div",{className:"description shop-description",children:s.formatted_address}),(0,o.jsxs)("div",{className:"price",children:[(0,o.jsxs)("div",{className:"shop-price-current",children:[s.rating,"\u2b50"]}),(0,o.jsxs)("div",{className:"shop-price-original",children:["(",s.user_ratings_total,")"]})]})]})]},t)},r=e=>{let{products:s,storeConfig:t}=e;const[i,c]=(0,a.useState)(null),[r,d]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{d(!0),n().get("/store/web-order/".concat(localStorage.getItem("onlineOrderId"))).then((function(e){console.log("--web order data-----",e.data)}))}),[]),(0,o.jsx)("div",{className:"product-list shop-product-list",children:s.map(((e,s)=>(0,o.jsx)(l,{product:e,index:s})))})},d=e=>{const[s,t]=(0,a.useState)({}),[i,n]=(0,a.useState)(!1);(0,a.useEffect)((()=>{n(!0),l(0,"categories")}),[]);const c=((e,s)=>{const t=[];let a=e;for(;a&&"object"===typeof a;){const e=Object.keys(a);t.push({data:a,keys:e});const i=s[t.length-1];if(!i||!a[i])break;a=a[i]}return t})(e,Object.values(s)),l=(e,s)=>{if(i&&(document.getElementById("sub-tabs").style.display="inline-block"),"categories"!==s&&(console.log("--levelIndex--",e),i)){if(window.filterStr=window.filterStr+","+s,e<window.filterStr.split(",").length){let t=window.filterStr.split(",");t.splice(e-1,0,s),t.length=e,window.filterStr=t.toString()}console.log("--filterStr--",window.filterStr),window.onFilter(s,window.filterStr)}t((t=>{const a={...t};return a[e]=s,Object.keys(a).filter((s=>parseInt(s)>e)).forEach((e=>delete a[e])),a}))};return(0,o.jsx)("div",{children:c.map(((e,t)=>t>0?(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:"tabs",children:e.keys.map((e=>e.match(/^\d+$/)?null:(0,o.jsx)("div",{className:"tab ".concat(s[t]===e?"active":""),onClick:()=>l(t,e),children:e},e)))})},t):(0,o.jsx)("div",{})))})},m=()=>(0,o.jsxs)("div",{className:"loading-screen",children:[(0,o.jsx)("div",{className:"shimmer",children:(0,o.jsxs)("div",{class:"wrapper",children:[(0,o.jsx)("div",{class:"animate image-card"}),(0,o.jsx)("div",{class:"animate stroke title"}),(0,o.jsx)("div",{class:"animate stroke link"}),(0,o.jsx)("div",{class:"animate stroke description"})]})}),(0,o.jsx)("div",{class:"shimmer",children:(0,o.jsxs)("div",{class:"wrapper",children:[(0,o.jsx)("div",{class:"animate image-card"}),(0,o.jsx)("div",{class:"animate stroke title"}),(0,o.jsx)("div",{class:"animate stroke link"}),(0,o.jsx)("div",{class:"animate stroke description"})]})}),(0,o.jsx)("div",{class:"shimmer",children:(0,o.jsxs)("div",{class:"wrapper",children:[(0,o.jsx)("div",{class:"animate image-card"}),(0,o.jsx)("div",{class:"animate stroke title"}),(0,o.jsx)("div",{class:"animate stroke link"}),(0,o.jsx)("div",{class:"animate stroke description"})]})}),(0,o.jsx)("div",{class:"shimmer",children:(0,o.jsxs)("div",{class:"wrapper",children:[(0,o.jsx)("div",{class:"animate image-card"}),(0,o.jsx)("div",{class:"animate stroke title"}),(0,o.jsx)("div",{class:"animate stroke link"}),(0,o.jsx)("div",{class:"animate stroke description"})]})}),(0,o.jsx)("div",{class:"shimmer",children:(0,o.jsxs)("div",{class:"wrapper",children:[(0,o.jsx)("div",{class:"animate image-card"}),(0,o.jsx)("div",{class:"animate stroke title"}),(0,o.jsx)("div",{class:"animate stroke link"}),(0,o.jsx)("div",{class:"animate stroke description"})]})})]}),h=e=>{let{url:s,storeConfig:t}=e;const[i,l]=(0,a.useState)(""),[h,p]=(0,a.useState)([]),[g,u]=(0,a.useState)([]),[v,x]=(0,a.useState)({}),[j,b]=(0,a.useState)(0),[f,w]=(0,a.useState)(!1),[y,k]=(0,a.useState)(!1);let S={tabFashion:{Menswear:{1:[]},Womenswear:{1:[]},Kidswear:{girls:{"1-to-6":{jumpsuits:0,dresses:0,skirts:0,tops:0},"6-to-14":{jackets:0,dresses:0}},boys:{"1-to-6":{denims:0,shirts:0},"6-to-14":{shoes:0}}}},tabEssentials:{furniture:{1:[]},"home decor":{1:[]},Linen:{1:[]}},tabCafes:{"cafe only":[],"food and cafe":[],"cafe and restaurant":[]},tabKids:{toys:[],stationary:[],classes:[]},tabSaloons:{"mens saloon":[],"womens saloon":[],"unisex saloon":[]}};(0,a.useEffect)((()=>{k(!0),x(S.tabFashion)}),[]),console.log("--store c1111--",t);const E=(e,s)=>{b(j+1),document.getElementById("tabFashion").classList.remove("active"),document.getElementById("tabEssentials").classList.remove("active"),document.getElementById("tabCafes").classList.remove("active"),document.getElementById("tabKids").classList.remove("active"),document.getElementById("tabSaloons").classList.remove("active"),document.getElementById(s).classList.add("active"),document.getElementById("sub-tabs").style.display="inline-block";const t=document.getElementById("sub-tabs");if(t){t.querySelectorAll(".active").forEach((e=>e.classList.remove("active")))}console.log("categoriesList[tabId]: ",S[s]),x(S[s]),C(s.replace("tab",""),window.placeQuery)};h.length,y&&(window.onFilter=(e,s)=>{console.log("-selected-",e),window.selectedCatId=e,C(e,window.placeQuery),console.log("-filters-"+s+"-");let t=s;const a=g.filter((e=>e.highlights.trim().indexOf(t.trim())>=0));console.log("--newArr--",a),p(a)});const C=(e,s)=>{w(!0),n().get("/shops/search/".concat(""!=e?e:"undefined","/").concat(""!=s?encodeURI(s):"undefined","/").concat(window.selectedLat,"/").concat(window.selectedLong)).then((function(e){const s=e.data;p(s.results),w(!1)}))};return(0,o.jsxs)("div",{className:"main",children:[(0,o.jsx)(c,{}),(0,o.jsxs)("div",{class:"container",children:[(0,o.jsx)("h1",{style:{marginLeft:"16px",display:"none"},children:"Shops near you:"}),(0,o.jsxs)("div",{class:"shop-search-c",children:[(0,o.jsx)("input",{type:"text",placeholder:"Search stores by locality",onKeyUp:e=>{if("Enter"===e.key){const s=e.target.value;window.placeQuery=s;let t="fashion";null==window.selectedCatId&&(window.selectedCatId=t),C(window.selectedCatId,s)}}}),(0,o.jsx)("img",{src:"../../assets/images/magnifying.png"})]}),(0,o.jsxs)("div",{class:"tabs-container shop",children:[(0,o.jsxs)("div",{class:"tabs",id:"main-tabs",children:[(0,o.jsx)("div",{id:"tabFashion",class:"tab active",onClick:()=>E(0,"tabFashion"),children:"Fashion"}),(0,o.jsx)("div",{id:"tabEssentials",class:"tab",onClick:()=>E(0,"tabEssentials"),children:"Essentials"}),(0,o.jsx)("div",{id:"tabCafes",class:"tab",onClick:()=>E(0,"tabCafes"),children:"Cafes"}),(0,o.jsx)("div",{id:"tabKids",class:"tab",onClick:()=>E(0,"tabKids"),children:"Kids"}),(0,o.jsx)("div",{id:"tabSaloons",class:"tab",onClick:()=>E(0,"tabSaloons"),children:"Saloons"})]}),(0,o.jsx)("div",{class:"sub-tabs",id:"sub-tabs",style:{marginBottom:"0",marginTop:"-16px"},children:j>=0&&(0,o.jsx)(d,{categories:v})})]}),!f&&(0,o.jsx)(r,{products:h,storeConfig:t}),f&&(0,o.jsx)(m,{})]})]})}}}]);
//# sourceMappingURL=247.6264d43f.chunk.js.map