"use strict";(self.webpackChunkssr_client=self.webpackChunkssr_client||[]).push([[671],{4671:(e,s,i)=>{i.r(s),i.d(s,{default:()=>d});var a=i(9643),t=i(7214),r=i.n(t),l=i(6507);const c=e=>{let{orders:s}=e;const[i,t]=(0,a.useState)(!1),[c,n]=(0,a.useState)(""),[d,o]=(0,a.useState)(""),[m,x]=(0,a.useState)(""),[h,j]=(0,a.useState)(""),[p,v]=(0,a.useState)(""),[u,k]=(0,a.useState)(""),[g,b]=(0,a.useState)(""),[S,N]=(0,a.useState)(""),[w,y]=(0,a.useState)(""),[f,_]=(0,a.useState)(""),[I,O]=(0,a.useState)(""),[C,E]=(0,a.useState)(""),[L,A]=(0,a.useState)("");return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"product-list",children:s.length>0&&s.map(((e,s)=>{let i="",a=0,r="";return Object.values(JSON.parse(e.order)).forEach(((e,s)=>{console.log("--obj--",e),i+="".concat(e.qty," ").concat(e.name," , "),a+=e.price,0==s&&(r=e.itemSrc)})),i=i.substring(0,i.length-2),a+=750,752==a&&(a=2),(0,l.jsxs)("div",{className:"card",onClick:()=>{((e,s,i)=>{o(e.id),n(e.created_at),x(e.name),j(e.mobile),v(e.address),k(e.delivery_pincode),b(s),N(e.status),y(e.delivery_schedule),O(e.delivery_timeslot),A(e.tracking_link),_(e.from_url);let a=e.from_url.split("/")[4];E(a),t(!0)})(e,a)},children:[(0,l.jsx)("img",{src:r}),(0,l.jsxs)("div",{className:"card-content",children:[(0,l.jsx)("div",{className:"description order-desc",children:i}),(0,l.jsx)("div",{className:"price",children:(0,l.jsxs)("div",{className:"price-current",children:["\u20b9",a]})}),(0,l.jsx)("br",{}),(0,l.jsxs)("div",{className:"description",style:{display:"inline"},children:[e.name," - ",e.mobile]})]})]},s)}))}),(0,l.jsxs)("div",{className:"address-container",style:{display:1==i?"block":"none"},children:[(0,l.jsx)("div",{className:"close-icn",onClick:()=>{t(!1)},children:(0,l.jsx)("img",{src:"../../assets/images/ic_close.png"})}),(0,l.jsxs)("div",{className:"cnt",children:[(0,l.jsxs)("div",{children:["Created At: ",c]}),(0,l.jsx)("div",{children:m}),(0,l.jsx)("div",{children:h}),(0,l.jsx)("div",{children:p}),(0,l.jsx)("div",{children:u}),(0,l.jsxs)("div",{className:"price-lbl",children:["\u20b9",g]}),"PAID"!=S&&(0,l.jsx)("div",{className:"input-delivery",children:(0,l.jsx)("input",{id:"trackingLinkElemId",type:"text",value:L,placeholder:"Enter tracking link"})}),"PAID"!=S&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("a",{className:"price-btn",onClick:()=>{(()=>{const e=sessionStorage.getItem("user-profile"),s=JSON.parse(e).supportMobile;r().post("/store/web-order/update",{onlineOrderId:d,trackingLink:"www.slimcrust.com/yp.html?oid="+d+"&amt="+g+"&mob="+h+"&supportMob="+s+"&fromUrl="+f}).then((e=>{console.log(e.status),window.open("https://wa.me/+91".concat(h,"?text=Hello!%20Your%20order%20has%20been%20accepted%20by%20").concat(C,"!%20Please%20make%20your%20payment%20on%20the%20app%20to%20confirm%20at%20").concat(f),"_blank")}))})()},style:{left:"0px",width:"120px",margin:"0 auto",float:"left",marginLeft:"26px",background:"linear-gradient(0deg, #16b95e, #26c36b 35%, #39d980)"},children:"Accept"}),(0,l.jsx)("a",{className:"price-btn",onClick:()=>{document.getElementById("trackingLinkElemId").value},style:{right:"20px",float:"right",width:"189px",margin:"0 auto",right:"20px"},children:"Update Delivery"})]}),(0,l.jsx)("div",{children:"now"==w?"DELIVER NOW":""}),"unknown"!=I&&(0,l.jsx)("div",{children:I})]})]})]})},n=()=>(0,l.jsxs)("div",{className:"loading-screen",children:[(0,l.jsx)("div",{className:"shimmer",children:(0,l.jsxs)("div",{class:"wrapper",children:[(0,l.jsx)("div",{class:"animate image-card"}),(0,l.jsx)("div",{class:"animate stroke title"}),(0,l.jsx)("div",{class:"animate stroke link"}),(0,l.jsx)("div",{class:"animate stroke description"})]})}),(0,l.jsx)("div",{class:"shimmer",children:(0,l.jsxs)("div",{class:"wrapper",children:[(0,l.jsx)("div",{class:"animate image-card"}),(0,l.jsx)("div",{class:"animate stroke title"}),(0,l.jsx)("div",{class:"animate stroke link"}),(0,l.jsx)("div",{class:"animate stroke description"})]})}),(0,l.jsx)("div",{class:"shimmer",children:(0,l.jsxs)("div",{class:"wrapper",children:[(0,l.jsx)("div",{class:"animate image-card"}),(0,l.jsx)("div",{class:"animate stroke title"}),(0,l.jsx)("div",{class:"animate stroke link"}),(0,l.jsx)("div",{class:"animate stroke description"})]})}),(0,l.jsx)("div",{class:"shimmer",children:(0,l.jsxs)("div",{class:"wrapper",children:[(0,l.jsx)("div",{class:"animate image-card"}),(0,l.jsx)("div",{class:"animate stroke title"}),(0,l.jsx)("div",{class:"animate stroke link"}),(0,l.jsx)("div",{class:"animate stroke description"})]})}),(0,l.jsx)("div",{class:"shimmer",children:(0,l.jsxs)("div",{class:"wrapper",children:[(0,l.jsx)("div",{class:"animate image-card"}),(0,l.jsx)("div",{class:"animate stroke title"}),(0,l.jsx)("div",{class:"animate stroke link"}),(0,l.jsx)("div",{class:"animate stroke description"})]})})]}),d=e=>{let{url:s}=e;const[i,t]=(0,a.useState)(""),[d,o]=(0,a.useState)(!0),[m,x]=(0,a.useState)([]);let h=0;try{h=JSON.parse(window.sessionStorage.getItem("user-profile")).storeId}catch(j){console.log("error")}return 0==m.length&&r().get("/web-orders/".concat(h)).then(function(e){"auth error"!=e.data&&(console.log("--orders res--",JSON.stringify(e.data)),o(!1),x(e.data))}.bind(void 0)),setTimeout((()=>o(!1)),2e3),(0,l.jsx)("div",{className:"main",children:(0,l.jsxs)("div",{class:"container",children:[(0,l.jsx)("h1",{style:{marginLeft:"16px"},children:"Online Orders"}),!d&&(0,l.jsx)(c,{orders:m}),d&&(0,l.jsx)(n,{})]})})}}}]);
//# sourceMappingURL=671.798fa802.chunk.js.map