"use strict";(self.webpackChunkssr_client=self.webpackChunkssr_client||[]).push([[335],{9335:(o,e,t)=>{t.r(e),t.d(e,{default:()=>c});t(5088);var a=t(9643),n=t(7214),s=t.n(n),i=t(6507);const l=()=>{console.log("--clicked log out--"),alert("Log out")},c=o=>{const[e,t]=(0,a.useState)(!1),[n,c]=(0,a.useState)(!1),[r,d]=(0,a.useState)(!1),[g,u]=(0,a.useState)(0),[h,m]=(0,a.useState)(!1),[f,w]=(0,a.useState)(!1);let p="/";const S=()=>{document.querySelector("#idHeader").classList.add("card-margin-header"),document.querySelector("#idMenu").classList.add("card-margin-menu"),document.querySelector("#idLogoSm").classList.add("card-margin-logo-sm"),document.querySelector("#idLogo").classList.add("card-margin-logo")},b=()=>"subscribed"==window.PushAlertCo.getSubsInfo().status&&null!=localStorage.getItem("notif-shown")&&"true"==localStorage.getItem("notif-shown"),x=()=>{null==localStorage.getItem("notif-shown")&&(localStorage.setItem("notif-shown","true"),setTimeout((()=>{window.location.reload()}),1e3))},k=()=>{"subscribed"!=window.PushAlertCo.getSubsInfo().status?["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document?(console.log("isNotificationShown: ",b()),b()?(S(),x()):(S(),m(!0),localStorage.setItem("notif-shown","true"))):(S(),x()):w(!0)};(0,a.useEffect)((()=>{t(!0),p=window.location.href,p&&p.indexOf("/app/shop/")>=0?c(!0):s().get("/user/cashback/".concat(localStorage.getItem("nanoId"),"/").concat(encodeURIComponent(window.location.pathname))).then((function(o){console.log("--user cashback data-----",o.data.cashBackValue),null!=o.data&&o.data.cashBackValue>0&&(d(!0),u(o.data.cashBackValue),localStorage.setItem("cashback-value",o.data.cashBackValue))})),k()}),[]),console.log("--props.locationHref--",o.locationHref),e&&(p=window.location.href,p.indexOf("?")>=0&&(p=window.location.href.substring(0,window.location.href.indexOf("?"))));const j=(o=>{let e="";console.log("--locationHref1--",o);let t="";return"undefined"!==typeof o&&-1!=o.indexOf("/app/")?(t=(o=o.split("from=")[0]).substring(o.indexOf("/app/")+5,o.length),t.indexOf("?")>=0&&(t=t.substring(0,t.indexOf("?"))),e="../../app/blr/".concat(t,"/images/logo.png")):e="../../app/blr/swirlyojpnagar/images/logo.png",console.log("--storeFolder--",t),e})(o.locationHref);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{id:"idHeader",className:"".concat(!n&&r?"top-margin":""," header"),children:[!n&&r&&(0,i.jsxs)("span",{className:"announcement",children:["\ud83c\udf89 You're eligible for instant cashback of \u20b9",g,". Shop now to redeem!"]}),!n&&(0,i.jsxs)("svg",{id:"idMenu",onClick:o.showSideBar,className:"".concat(!n&&r?"top-margin":""," menu-bar text-indigo-600"),width:"41",height:"41",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:["                ",(0,i.jsx)("rect",{width:"56",height:"56",rx:"16",fill:"#b9b9b9"}),"                ",(0,i.jsx)("path",{d:"M37 32H19M37 24H19",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),"              "]}),!n&&(0,i.jsx)("img",{id:"idLogoSm",onClick:()=>window.location.href=p,className:"".concat(!n&&r?"top-margin-sm":""," store-logo-sm"),src:j}),(0,i.jsx)("img",{id:"idLogo",class:"".concat(!n&&r?"top-margin":"",n?" store-logo-shop":" store-logo"),src:"../../assets/images/qlogo.png"}),o.loggedOut&&!n&&(0,i.jsx)("span",{id:"logout",className:"logout",onClick:l,children:"Logout"})]}),h&&(0,i.jsx)("span",{children:"Add to home screen"})]})}},5088:()=>{}}]);
//# sourceMappingURL=335.9f9195db.chunk.js.map