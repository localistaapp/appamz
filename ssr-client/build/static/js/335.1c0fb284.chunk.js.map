{"version":3,"file":"static/js/335.1c0fb284.chunk.js","mappings":"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","sources":["app/header/Header.js"],"sourcesContent":["import \"./Header.css\";\nimport {useEffect, useState} from \"react\";\nimport axios from 'axios';\n\nconst onLogoutClick = () => {\n    console.log('--clicked log out--');\n    alert('Log out');\n}\n\n/*const getLogoSrcWithSubdomain = () => {\n    let url = '';\n    if (typeof window !== 'undefined' && window.location.href.indexOf('www.amuzely.com') == -1 && window.location.href.indexOf('.amuzely.com') != -1) {\n        const storeFolder = window.location.href.substring(window.location.href.indexOf('https://')+'https://'.length,window.location.href.indexOf('.amuzely.com'));\n        url = `../../app/blr/${storeFolder}/images/logo.png`;\n    }\n    else {\n        url = '../../app/blr/swirlyojpnagar/images/logo.png';\n    }\n    return url;\n}*/\n\nconst getLogoSrc = (locationHref) => {\n    let url = '';\n    debugger;\n    console.log('--locationHref1--', locationHref);\n    let storeFolder = '';\n    if (typeof locationHref !== 'undefined' && locationHref.indexOf('/app/') != -1) {\n        locationHref = locationHref.split('from=')[0];\n        storeFolder = locationHref.substring(locationHref.indexOf('/app/')+'/app/'.length,locationHref.length);\n        if(storeFolder.indexOf('?')>=0) {\n            storeFolder = storeFolder.substring(0, storeFolder.indexOf('?'));\n        }\n        url = `../../app/blr/${storeFolder}/images/logo.png`;\n    }\n    else {\n        url = '../../app/blr/swirlyojpnagar/images/logo.png';\n    }\n    console.log('--storeFolder--', storeFolder);\n    return url;\n}\n\nconst Header = (props) => {\n    const [isClient, setIsClient] = useState(false);\n    const [isShopFlow, setIsShopFlow] = useState(false);\n    const [cashbackExists, setCashbackExists] = useState(false);\n    const [cashbackValue, setCashbackValue] = useState(0);\n    const [showAddToHome, setShowAddToHome] = useState(false);\n    const [showCashback, setShowCashback] = useState(false);\n    let homeLocation = '/';\n\n    const getCashback = () => {\n        axios.get(`/user/cashback/${localStorage.getItem('nanoId')}/${encodeURIComponent(window.location.pathname)}`)\n        .then(function (response) {\n            console.log('--user cashback data-----', response.data.cashBackValue);\n            if (response.data != null && response.data.cashBackValue > 0) {\n                setCashbackExists(true);\n                setCashbackValue(response.data.cashBackValue);\n                localStorage.setItem('cashback-value', response.data.cashBackValue);\n            }\n        })\n    }\n\n    const addTopCardClass = () => {\n        document.querySelector('#idHeader').classList.add('card-margin-header');\n        document.querySelector('#idMenu').classList.add('card-margin-menu');\n        document.querySelector('#idLogoSm').classList.add('card-margin-logo-sm');\n        document.querySelector('#idLogo').classList.add('card-margin-logo');\n    }\n\n    const isNotSubscribed = () => {\n        return !(window.PushAlertCo.getSubsInfo().status == \"subscribed\");\n             //&& localStorage.getItem('subscribed')!=null && localStorage.getItem('subscribed')=='true';\n    }\n\n    const isIOS = () => {\n        return [\n            'iPad Simulator',\n            'iPhone Simulator',\n            'iPod Simulator',\n            'iPad',\n            'iPhone',\n            'iPod'\n          ].includes(navigator.platform)\n          // iPad on iOS 13 detection\n          || (navigator.userAgent.includes(\"Mac\") && \"ontouchend\" in document);\n    }\n\n    const isNotificationShown = () => {\n        return window.PushAlertCo.getSubsInfo().status == \"subscribed\" ||    \n                (localStorage.getItem('notif-shown') != null &&\n                localStorage.getItem('notif-shown')=='true');\n    }\n\n    const showAddToHomeCard = () => {\n        setShowAddToHome(true);\n    }\n\n    const showCashbackCard = () => {\n        setShowCashback(true);\n    }\n\n    const showFollowCard = () => {\n        if(localStorage.getItem('notif-shown') == null) {\n            localStorage.setItem('notif-shown', 'true');\n            setTimeout(()=>{window.location.reload();},1000);\n        }\n    }\n\n    const showOfferPromptStates = () => {\n        if (isNotSubscribed()) {\n            if (isIOS()) {\n                console.log('isNotificationShown: ',isNotificationShown());\n                if (!isNotificationShown()) {\n                    addTopCardClass();\n                    showAddToHomeCard();\n                    localStorage.setItem('notif-shown', 'true');\n                } else {\n                    addTopCardClass();\n                    showFollowCard();\n                }\n            } else {\n                addTopCardClass();\n                showFollowCard();\n            }\n        } else {\n            showCashbackCard();\n        }\n     }\n\n    useEffect(() => {\n        setIsClient(true);\n        homeLocation = window.location.href;\n        if(homeLocation && homeLocation.indexOf('/app/shop/') >= 0) {\n            setIsShopFlow(true);\n        } else {\n            getCashback();\n        }\n        showOfferPromptStates();\n      }, []);\n\n    console.log('--props.locationHref--', props.locationHref);\n    if (isClient) {\n        homeLocation = window.location.href;\n        if (homeLocation.indexOf('?') >= 0) {\n            homeLocation = window.location.href.substring(0,window.location.href.indexOf('?'));\n        } \n    }\n   \n    const logoSrc = getLogoSrc(props.locationHref);\n\n    return <><div\n        id=\"idHeader\"\n        className={`${!isShopFlow && cashbackExists ? 'top-margin' : ''} header`}>\n            {!isShopFlow && cashbackExists && <span className=\"announcement\">ðŸŽ‰ You're eligible for instant cashback of â‚¹{cashbackValue}. Shop now to redeem!</span>}\n            {!isShopFlow && <svg id=\"idMenu\" onClick={props.showSideBar} className={`${!isShopFlow && cashbackExists ? 'top-margin' : ''} menu-bar text-indigo-600`} width=\"41\" height=\"41\" viewBox=\"0 0 56 56\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">                <rect width=\"56\" height=\"56\" rx=\"16\" fill=\"#b9b9b9\"></rect>                <path d=\"M37 32H19M37 24H19\" stroke=\"white\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>              </svg>}\n            {!isShopFlow && <img id=\"idLogoSm\" onClick={()=> window.location.href=homeLocation} className={`${!isShopFlow && cashbackExists ? 'top-margin-sm' : ''} store-logo-sm`} src={logoSrc} />}\n            <img id=\"idLogo\" class={isShopFlow ? `${!isShopFlow && cashbackExists ? 'top-margin' : ''} store-logo-shop` :`${!isShopFlow && cashbackExists ? 'top-margin' : ''} store-logo`} src=\"../../assets/images/qlogo.png\"></img>\n            {props.loggedOut && !isShopFlow &&\n                 <span id=\"logout\" className=\"logout\" onClick={onLogoutClick}>Logout</span>}\n        </div>\n        {showAddToHome && <span>Add to home screen</span>}\n        </>\n}\n\nexport default Header;\n"],"names":["onLogoutClick","console","log","alert","props","isClient","setIsClient","useState","isShopFlow","setIsShopFlow","cashbackExists","setCashbackExists","cashbackValue","setCashbackValue","showAddToHome","setShowAddToHome","showCashback","setShowCashback","homeLocation","addTopCardClass","document","querySelector","classList","add","isNotificationShown","window","PushAlertCo","getSubsInfo","status","localStorage","getItem","showFollowCard","setItem","setTimeout","location","reload","showOfferPromptStates","includes","navigator","platform","userAgent","useEffect","href","indexOf","axios","concat","encodeURIComponent","pathname","then","response","data","cashBackValue","locationHref","substring","logoSrc","url","storeFolder","split","length","getLogoSrc","_jsxs","_Fragment","children","id","className","onClick","showSideBar","width","height","viewBox","fill","xmlns","_jsx","rx","d","stroke","src","class","loggedOut"],"sourceRoot":""}